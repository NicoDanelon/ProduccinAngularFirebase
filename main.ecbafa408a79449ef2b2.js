(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService({instanceIdentifier:i});if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?o:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);return!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s)),s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return Su}),n.d(e,"c",function(){return vu}),n.d(e,"d",function(){return gu}),n.d(e,"e",function(){return yu}),n.d(e,"f",function(){return gc}),n.d(e,"g",function(){return oc}),n.d(e,"h",function(){return wa}),n.d(e,"i",function(){return Pu}),n.d(e,"j",function(){return Go}),n.d(e,"k",function(){return Cu}),n.d(e,"l",function(){return Wo}),n.d(e,"m",function(){return Sr}),n.d(e,"n",function(){return Ja}),n.d(e,"o",function(){return ss}),n.d(e,"p",function(){return Cn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return on}),n.d(e,"s",function(){return ws}),n.d(e,"t",function(){return pa}),n.d(e,"u",function(){return ga}),n.d(e,"v",function(){return Ou}),n.d(e,"w",function(){return Da}),n.d(e,"x",function(){return uc}),n.d(e,"y",function(){return ja}),n.d(e,"z",function(){return ec}),n.d(e,"A",function(){return Fu}),n.d(e,"B",function(){return In}),n.d(e,"C",function(){return Eu}),n.d(e,"D",function(){return wu}),n.d(e,"E",function(){return Xo}),n.d(e,"F",function(){return Yo}),n.d(e,"G",function(){return Ir}),n.d(e,"H",function(){return ta}),n.d(e,"I",function(){return gr}),n.d(e,"J",function(){return An}),n.d(e,"K",function(){return hc}),n.d(e,"L",function(){return Ia}),n.d(e,"M",function(){return zu}),n.d(e,"N",function(){return un}),n.d(e,"O",function(){return na}),n.d(e,"P",function(){return ea}),n.d(e,"Q",function(){return Pa}),n.d(e,"R",function(){return F}),n.d(e,"S",function(){return nc}),n.d(e,"T",function(){return Ju}),n.d(e,"U",function(){return m}),n.d(e,"V",function(){return Xu}),n.d(e,"W",function(){return pc}),n.d(e,"X",function(){return Ku}),n.d(e,"Y",function(){return Tu}),n.d(e,"Z",function(){return as}),n.d(e,"ab",function(){return jo}),n.d(e,"bb",function(){return pr}),n.d(e,"cb",function(){return Yn}),n.d(e,"db",function(){return Vn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return zn}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return Gn}),n.d(e,"jb",function(){return Io}),n.d(e,"kb",function(){return dc}),n.d(e,"lb",function(){return Ao}),n.d(e,"mb",function(){return xo}),n.d(e,"nb",function(){return qn}),n.d(e,"ob",function(){return B}),n.d(e,"pb",function(){return js}),n.d(e,"qb",function(){return Ks}),n.d(e,"rb",function(){return Gs}),n.d(e,"sb",function(){return $s}),n.d(e,"tb",function(){return Co}),n.d(e,"ub",function(){return It}),n.d(e,"vb",function(){return f}),n.d(e,"wb",function(){return Un}),n.d(e,"xb",function(){return Ss}),n.d(e,"yb",function(){return wt}),n.d(e,"zb",function(){return Bo}),n.d(e,"Ab",function(){return li}),n.d(e,"Bb",function(){return Ps}),n.d(e,"Cb",function(){return oo}),n.d(e,"Db",function(){return so}),n.d(e,"Eb",function(){return fu}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return E}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return Ls}),n.d(e,"Mb",function(){return qs}),n.d(e,"Nb",function(){return Hs}),n.d(e,"Ob",function(){return Bs}),n.d(e,"Pb",function(){return Vs}),n.d(e,"Qb",function(){return Us}),n.d(e,"Rb",function(){return zs}),n.d(e,"Sb",function(){return tn}),n.d(e,"Tb",function(){return wo}),n.d(e,"Ub",function(){return Sn}),n.d(e,"Vb",function(){return nn}),n.d(e,"Wb",function(){return mu}),n.d(e,"Xb",function(){return Qs}),n.d(e,"Yb",function(){return du}),n.d(e,"Zb",function(){return Ys}),n.d(e,"ac",function(){return Ya}),n.d(e,"bc",function(){return Xa}),n.d(e,"cc",function(){return Fs}),n.d(e,"dc",function(){return Wa}),n.d(e,"ec",function(){return hu}),n.d(e,"fc",function(){return $t}),n.d(e,"gc",function(){return yr}),n.d(e,"hc",function(){return vr}),n.d(e,"ic",function(){return st}),n.d(e,"jc",function(){return io}),n.d(e,"kc",function(){return Eo}),n.d(e,"lc",function(){return Rs}),n.d(e,"mc",function(){return vo}),n.d(e,"nc",function(){return bo}),n.d(e,"oc",function(){return _o});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function m(t){return t.__forward_ref__=m,t.toString=function(){return f(this())},t}function g(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===m}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return O(t,I)||O(t,x)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const I=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function N(t){const e=D;return D=t,e}function P(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function R(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=M||q||U||V,H={},z=[],G=[],$=l({"\u0275cmp":l}),K=l({"\u0275dir":l}),Q=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Z=l({"\u0275loc":l}),Y=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[K]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function st(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return Et}function Et(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),St}function St(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}let Ct;function It(t){Ct=t}function At(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}wt.ngInherit=!0;const kt={createRenderer:(t,e)=>At()};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return jt(e[t])}function Nt(t,e){return jt(e[t.index])}function Pt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function Gt(){return Bt.lFrame.tView}function $t(t){Bt.lFrame.contextLView=t}function Kt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Bt.lFrame.currentTNode}function Wt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Bt.lFrame.isParent}function Yt(){Bt.lFrame.isParent=!1}function Xt(){return Bt.isInCheckNoChangesMode}function Jt(t){Bt.isInCheckNoChangesMode=t}function te(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Bt.lFrame.bindingIndex++}function ne(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function re(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Bt.lFrame.currentDirectiveIndex=t}function se(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function oe(){return Bt.lFrame.currentQueryIndex}function ae(t){Bt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=de;function me(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Bt.lFrame.selectedIndex}function ye(t){Bt.lFrame.selectedIndex=t}function ve(){const t=Bt.lFrame;return Pt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Se(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Oe=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function De(t){return t!==Oe}function Ne(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Le(t){const e=Re;return Re=t,e}let Fe=0;function Me(t,e){const n=Ve(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=qe(t,e),s=t.injectorIndex;if(De(i)){const t=Ne(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ve(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Oe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oe}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Fe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function He(t,e,n){if(n&j.Optional)return t;w(e,"NodeInjector")}function ze(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=N(void 0);try{return i?i.get(e,r,n&j.Optional):P(e,r,n&j.Optional)}finally{N(s)}}return He(r,e,n)}function Ge(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!ce(e,t,r))return r&j.Host?He(i,n,r):ze(e,n,r,i);try{const t=s();if(null!=t||r&j.Optional)return t;w(n)}finally{pe()}}else if("number"==typeof s){let i=null,o=Ve(t,e),a=Oe,u=r&j.Host?e[16][6]:null;for((-1===o||r&j.SkipSelf)&&(a=-1===o?qe(t,e):e[o+8],a!==Oe&&Xe(r,!1)?(i=e[1],o=Ne(a),e=Pe(a,e)):o=-1);-1!==o;){const t=e[1];if(Ye(s,o,t.data)){const t=Qe(o,e,n,i,r,u);if(t!==$e)return t}a=e[o+8],a!==Oe&&Xe(r,e[1].data[o+8]===u)&&Ye(s,o,e)?(i=t,o=Ne(a),e=Pe(a,e)):o=-1}}}return ze(e,n,r,i)}const $e={};function Ke(){return new Je(Kt(),zt())}function Qe(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=We(a,o,n,null==r?gt(a)&&Re:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==u?Ze(e,o,u,a):$e}function We(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function Ze(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Le(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?N(o.injectImpl):null;ce(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Et(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&N(u),Le(a),o.resolving=!1,pe()}}return i}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Xe(t,e){return!(t&j.Self||t&j.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function tn(t){return R(()=>{const e=t.prototype.constructor,n=e[Y]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return y(t)?()=>{const e=en(g(t));return e&&e()}:bt(t)}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const rn="__parameters__";function sn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new on("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},yn=/\n/gm,vn="__source",bn=l({provide:String,useValue:l});let _n;function wn(t){const e=_n;return _n=t,e}function En(t,e=j.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?P(t,void 0,e):_n.get(t,e&j.Optional?null:void 0,e)}function Sn(t,e=j.Default){return(D||En)(g(t),e)}function Tn(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Sn(t,n))}else e.push(Sn(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=On(sn("Inject",t=>({token:t})),-1),In=On(sn("Optional"),8),An=On(sn("SkipSelf"),4);let xn,kn;function jn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,B.trustedTypes))try{xn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}function Dn(t){var e;return(null===(e=function(){if(void 0===kn&&(kn=null,B.trustedTypes))try{kn=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return kn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pn extends Nn{getTypeName(){return"HTML"}}class Rn extends Nn{getTypeName(){return"Style"}}class Ln extends Nn{getTypeName(){return"Script"}}class Fn extends Nn{getTypeName(){return"URL"}}class Mn extends Nn{getTypeName(){return"ResourceURL"}}function Un(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function qn(t){return t instanceof Nn&&t.getTypeName()||null}function Bn(t){return new Pn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Ln(t)}function Gn(t){return new Fn(t)}function $n(t){return new Mn(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Wn)||t.match(Zn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const tr=Xn("area,br,col,hr,img,wbr"),er=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Xn("rp,rt"),rr=Jn(nr,er),ir=Jn(tr,Jn(er,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(nr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rr),sr=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xn("srcset"),ar=Jn(sr,or,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ur=Xn("script,style,template");class cr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!ur.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ar.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;sr[s]&&(o=Yn(o)),or[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',fr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ir.hasOwnProperty(e)&&!tr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/([^\#-~ |!])/g;function fr(t){return t.replace(/&/g,"&amp;").replace(lr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(hr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function pr(t,e){let n=null;try{dr=dr||function(t){const e=new Qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==s);return jn((new cr).sanitizeChildren(mr(n)||n))}finally{if(n){const t=mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function yr(t){const e=br();return e?Dn(e.sanitize(gr.HTML,t)||""):Vn(t,"HTML")?Dn(Un(t)):pr(At(),b(t))}function vr(t){const e=br();return e?e.sanitize(gr.URL,t)||"":Vn(t,"URL")?Un(t):Yn(b(t))}function br(){const t=zt();return t&&t[12]}function _r(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}function Tr(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Cr(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ar(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return pt(e)?e[3]:e}function kr(t){return Dr(t[13])}function jr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?Vr(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==jt(n)&&Nr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Qr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Pr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Rr(s,r),e>0&&(t[n-1][4]=r[4]);const o=fn(t,ft+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Fr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Mr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Mr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Mr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):jt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ur(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Vr(t,e,n)}function Br(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Nt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(s,i,n[a],o,!1);else qr(s,i,n,o,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return $r(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return pt(n)?$r(-1,n):jt(n)}}if(32&n)return Ar(e,t)()||jt(t[e.index]);{const n=Gr(t,e);return null!==n?Array.isArray(n)?n[0]:zr(xr(t[16]),n):zr(t,e.next)}}return null}function Gr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function $r(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Kr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Tr(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Kr(t,e,n.child,r,i,s,!1),Nr(e,t,i,a,s);else if(32&u){const o=Ar(n,r);let u;for(;u=o();)Nr(e,t,i,u,s);Nr(e,t,i,a,s)}else 16&u?Wr(t,e,r,n,i,s):Nr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Qr(t,e,n,r,i,s){Kr(n,r,t.firstChild,e,i,s,!1)}function Wr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Nr(e,t,i,a[u],s);else Kr(t,e,a,o[3],i,s,!0)}function Zr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function ti(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&t.value!==Jr}function ni(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ri(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ti(t.attrs,c,n)){if(ii(r))return!1;o=!0}continue}const l=si(8&r?"class":u,i,ei(t),n);if(-1===l){if(ii(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(ii(r))return!1;o=!0}}}}else{if(!o&&!ii(r)&&!ii(u))return!1;if(o&&ii(u))continue;o=!1,r=u|1&r}}return ii(r)||o}function ii(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function ai(t,e){return t?":not("+e.trim()+")":e}function ui(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ii(o)||(e+=ai(s,i),i=""),r=o,s=s||!ii(r);n++}return""!==i&&(e+=ai(s,i)),e}const ci={};function li(t){hi(Gt(),zt(),ge()+t,Xt())}function hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}ye(n)}function fi(t,e){return t<<17|e<<2}function di(t){return t>>17&32767}function pi(t){return 2|t}function mi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ae(i),n.contentQueries(2,e[s],s)}}}function bi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function _i(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Qt(),o=Zt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Wt(s,!0),s}function wi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ei(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&Xi(1,r,n);const i=t.template;null!==i&&Oi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Xi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Si(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const s=Xt();try{Vt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Oi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),Ee(e,0)}if(function(t){for(let e=kr(t);null!==e;e=jr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=kr(t);null!==e;e=jr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&Si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,s=n[++t],o=n[++t];re(s,i),o(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{me()}}function Ti(t,e,n,r){const i=e[10],s=!Xt(),o=Ft(e);try{s&&!o&&i.begin&&i.begin(),o&&Ei(t,e,r),Si(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Oi(t,e,n,r,i){const s=ge();try{ye(-1),2&r&&e.length>ht&&hi(t,e,ht,Xt()),n(r,i)}finally{ye(s)}}function Ci(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ii(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),Tr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&qi(e,n,r);const u=Ze(e,t,a,n);Tr(u,e),null!==o&&Bi(0,a-i,u,r,0,o),s&&(Rt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{ye(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Li(r,i)}}finally{ye(-1),ie(o)}}(t,e,n))}function Ai(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ci);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ji(t,e,n,r){const i=ts(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&es(t).push(r,i.length-1))}function Di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ni(t,e,n,r,i,s,o,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(rs(t,n,c,r,i),gt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,xt(s)?s.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Pi(t,e,n,r){let i=!1;if(Ht()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];oi(n,o.selectors,!1)&&(i||(i=[]),Be(Me(n,e),t,o.type),vt(o)?(Fi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ui(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=wi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),Vi(t,n,e,u,c),Mi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ei(e)?null:Hi(n,i);s.push(c),o=Di(n,u,o),a=Di(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),i}function Ri(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Li(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Ui(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ce(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Ri(t,e,0,r,wi(t,n,i.hostVars,ci),i)}function qi(t,e,n){const r=Nt(e,t),i=xi(n),s=t[10],o=Qi(t,bi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Bi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Rt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Si(t,n,t.template,n[8]):n[5]>0&&$i(n)}}function $i(t){for(let n=kr(t);null!==n;n=jr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Si(t,e,t.template,e[8])}else e[5]>0&&$i(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Mt(r)&&r[5]>0&&$i(r)}}function Ki(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ei(r,n,n[8])}function Qi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Wi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Si(t,e,t.template,n)}catch(i){throw ns(e,i),i}finally{r.end&&r.end()}}function Yi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];Ti(i,r,i.template,n)}}(t[8])}function Xi(t,e,n){ae(0),e(t,n)}const Ji=(()=>Promise.resolve(null))();function ts(t){return t[7]||(t[7]=[])}function es(t){return t.cleanup||(t.cleanup=[])}function ns(t,e){const n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function rs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function is(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=d(i,t):2==s&&(r=d(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ss=new on("INJECTOR",-1);class os{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const as=new on("Set Injector scope."),us={},cs={},ls=[];let hs;function fs(){return void 0===hs&&(hs=new os),hs}function ds(t,e=null,n=null,r){return new ps(t,n,e||fs(),r)}class ps{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(ss,ys(void 0,this));const s=this.records.get(as);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=j.Default){this.assertNotDestroyed();const r=wn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&T(t);e=n&&this.injectableDefInScope(n)?ys(ms(t),us):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?fs():this.parent).get(t,e=n&j.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(f(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[vn]&&i.unshift(e[vn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||ls))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,ys(a,us));const u=r.providers;if(null!=u&&!o){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=bs(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return vs(t)?ys(void 0,t.useValue):ys(gs(t),us)}(t);if(bs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ys(void 0,us,!0),e.factory=()=>Tn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===us&&(e.value=cs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ms(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof on)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function gs(t,e,n){let r;if(bs(t)){const e=g(t);return bt(e)||ms(e)}if(vs(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Tn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Sn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ms(e);r=()=>new e(...Tn(t.deps))}var i;return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vs(t){return null!==t&&"object"==typeof t&&bn in t}function bs(t){return"function"==typeof t}const _s=function(t,e,n){return function(t,e=null,n=null,r){const i=ds(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ws=(()=>{class t{static create(t,e){return Array.isArray(t)?_s(t,e,""):_s(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new os,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>Sn(ss)}),t.__NG_ELEMENT_ID__=-1,t})();function Es(t,e){be(Lt(t)[1],Kt())}function Ss(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ts(t.inputs),e.declaredInputs=Ts(t.declaredInputs),e.outputs=Ts(t.outputs);const n=i.hostBindings;n&&Is(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Os(t,s),o&&Cs(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ss&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ke(i.hostAttrs,n=ke(n,i.hostAttrs))}}(r)}function Ts(t){return t===H?{}:t===G?[]:t}function Os(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Cs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Is(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let As=null;function xs(){if(!As){const t=B.Symbol;if(t&&t.iterator)As=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(As=n)}}}return As}class ks{constructor(t){this.wrapped=t}static wrap(t){return new ks(t)}static unwrap(t){return ks.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ks}}function js(t){return!!Ds(t)&&(Array.isArray(t)||!(t instanceof Map)&&xs()in t)}function Ds(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ns(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ps(t,e,n,r){const i=zt();return Ns(i,ee(),e)&&(Gt(),function(t,e,n,r,i,s){const o=Nt(t,e);!function(t,e,n,r,i,s,o){if(null==s)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ve(),i,t,e,n,r)),Ps}function Rs(t,e,n,r,i,s,o,a){const u=zt(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=_i(e,t,4,o||null,Ut(c,a));Pi(e,n,l,Ut(c,u)),be(e,l);const h=l.tViews=ki(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Wt(h,!1);const f=u[11].createComment("");Hr(c,u,f,h),Tr(f,u),Qi(u,u[l]=zi(f,u,f,h)),yt(h)&&Ii(c,u,h),null!=o&&Ai(u,h,a)}function Ls(t,e=j.Default){const n=zt();return null===n?Sn(t,e):Ge(Kt(),n,g(t),e)}function Fs(t,e,n){const r=zt();return Ns(r,ee(),e)&&Ni(Gt(),ve(),r,t,e,r[11],n,!1),Fs}function Ms(t,e,n,r,i){const s=i?"class":"style";rs(t,n,e.inputs[s],s,r)}function Us(t,e,n,r){const i=zt(),s=Gt(),o=ht+t,a=i[11],u=i[o]=Pr(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=_i(e,t,2,i,Ut(a,s));return Pi(e,n,u,Ut(a,o)),null!==u.attrs&&is(u,u.attrs,!1),null!==u.mergedAttrs&&is(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&Yr(a,u,h);const f=c.styles;null!==f&&Zr(a,u,f),64!=(64&c.flags)&&Hr(s,i,u,c),0===Bt.lFrame.elementDepthCount&&Tr(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(Ii(s,i,c),Ci(s,c,i)),null!==r&&Ai(i,c)}function Vs(){let t=Kt();Zt()?Yt():(t=t.parent,Wt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(be(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,zt(),e.stylesWithoutHost,!1)}function qs(t,e,n,r){Us(t,e,n,r),Vs()}function Bs(t,e,n){const r=zt(),i=Gt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ut(s,r),a=_i(e,t,8,"ng-container",o);return null!==o&&is(a,o,!0),Pi(e,n,a,Ut(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Wt(o,!0);const a=r[s]=r[11].createComment("");Hr(i,r,a,o),Tr(a,r),yt(o)&&(Ii(i,r,o),Ci(i,o,r)),null!=n&&Ai(r,o)}function Hs(){let t=Kt();const e=Gt();Zt()?Yt():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(be(e,t),mt(t)&&e.queries.elementEnd(t))}function zs(){return zt()}function Gs(t){return!!t&&"function"==typeof t.then}function $s(t){return!!t&&"function"==typeof t.subscribe}const Ks=$s;function Qs(t,e,n=!1,r){const i=zt(),s=Gt(),o=Kt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&es(t),l=ts(e);let h=!0;if(3&r.type){const f=Nt(r,e),d=a?a(f):H,p=d.target||f,m=l.length,g=a?t=>a(jt(t[r.index])).target:r.index;if(xt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Zs(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Zs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=Zs(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Qs}function Ws(t,e,n){try{return!1!==e(n)}catch(r){return ns(t,r),!1}}function Zs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Wi(o);let a=Ws(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Ws(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ys(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Xs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?di(s):mi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Js(t[a],e)&&(u=!0,t[a+1]=r?yi(n):pi(n)),a=r?di(n):mi(n)}u&&(t[n+1]=r?pi(s):yi(s))}function Js(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}const to={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eo(t){return t.substring(to.key,to.keyEnd)}function no(t,e){const n=to.textEnd;return n===e?-1:(e=to.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,to.key=e,n),ro(t,e,n))}function ro(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function io(t,e,n){return uo(t,e,n,!1),io}function so(t,e){return uo(t,e,null,!0),so}function oo(t){!function(t,e,n,r){const i=Gt(),s=ne(2);i.firstUpdatePass&&lo(i,null,s,r);const o=zt();if(n!==ci&&Ns(o,s,n)){const a=i.data[ge()];if(yo(a,r)&&!co(i,s)){let t=a.classesWithoutHost;null!==t&&(n=d(t,n||"")),Ms(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ci&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,o!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&po(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Un(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(dn,ao,t,!0)}function ao(t,e){for(let n=function(t){return function(t){to.key=0,to.keyEnd=0,to.value=0,to.valueEnd=0,to.textEnd=t.length}(t),no(t,ro(t,0,to.textEnd))}(e);n>=0;n=no(e,n))dn(t,eo(e),!0)}function uo(t,e,n,r){const i=zt(),s=Gt(),o=ne(2);s.firstUpdatePass&&lo(s,t,o,r),e!==ci&&Ns(i,o,e)&&po(s,s.data[ge()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(Un(t)))),t}(e,n),r,o)}function co(t,e){return e>=t.expandoStartIndex}function lo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ge()],o=co(t,n);yo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=se(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=fo(n=ho(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ho(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[di(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ho(null,t,e,n[1],r),n=fo(n,e.attrs,r),function(t,e,n,r){t[di(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fo(r,t[s].hostAttrs,n);return fo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=di(o),u=mi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=di(t[a+1]);t[r+1]=fi(e,a),0!==e&&(t[e+1]=gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=fi(a,0),0!==a&&(t[a+1]=gi(t[a+1],r)),a=r;else t[r+1]=fi(u,0),0===a?a=r:t[u+1]=gi(t[u+1],r),u=r;l&&(t[r+1]=pi(t[r+1])),Xs(t,c,r,!0),Xs(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mn(s,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r,s),o=fi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ho(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=fo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function fo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function po(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];go(1==(1&c)?mo(u,e,n,i,mi(c),o):void 0)||(go(s)||2==(2&c)&&(s=mo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ir.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Ir.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Dt(ge(),n),i,s))}function mo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ci&&(l=c?z:void 0);let h=c?pn(l,r):u===r?l:void 0;if(s&&!go(h)&&(h=pn(e,r)),go(h)&&(a=h,o))return a;const f=t[i+1];i=o?di(f):mi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function go(t){return void 0!==t}function yo(t,e){return 0!=(t.flags&(e?16:32))}function vo(t,e=""){const n=zt(),r=Gt(),i=t+ht,s=r.firstCreatePass?_i(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(r,n,o,s),Wt(s,!1)}function bo(t){return _o("",t,""),bo}function _o(t,e,n){const r=zt(),i=function(t,e,n,r){return Ns(t,ee(),n)?e+b(n)+r:ci}(r,t,e,n);return i!==ci&&function(t,e,n){const r=Dt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),_o}function wo(t,e,n){const r=zt();return Ns(r,ee(),e)&&Ni(Gt(),ve(),r,t,e,r[11],n,!0),wo}function Eo(t,e,n){const r=zt();if(Ns(r,ee(),e)){const i=Gt(),s=ve();Ni(i,s,r,t,e,function(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(se(i.data),s,r),n,!0)}return Eo}const So=void 0;var To=["en",[["a","p"],["AM","PM"],So],[["AM","PM"],So,So],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],So,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],So,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",So,"{1} 'at' {0}",So],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Oo={};function Co(t,e,n){"string"!=typeof e&&(n=e,e=t[jo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Oo[e]=t,n&&(Oo[e][jo.ExtraData]=n)}function Io(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ko(e);if(n)return n;const r=e.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return To;throw new Error(`Missing locale data for the locale "${t}".`)}function Ao(t){return Io(t)[jo.CurrencyCode]||null}function xo(t){return Io(t)[jo.PluralCase]}function ko(t){return t in Oo||(Oo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Oo[t]}var jo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Do="en-US";let No=Do;function Po(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(No=t.toLowerCase().replace(/_/g,"-"))}function Ro(t,e,n,r,i){if(t=g(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ro(t[s],e,n,r,i);else{const s=Gt(),o=zt();let a=bs(t)?t:g(t.provide),u=gs(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(bs(t)||!t.multi){const r=new Ce(u,i,Ls),d=Mo(a,e,i?l:l+f,h);-1===d?(Be(Me(c,o),s,a),Lo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Mo(a,e,l+f,h),p=Mo(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){Be(Me(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,Ls);return s.multi=[],s.index=e,s.componentProviders=0,Fo(s,i,r&&!n),s}(i?Vo:Uo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Lo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Lo(s,t,d>-1?d:p,Fo(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Lo(t,e,n,r){const i=bs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Fo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uo(t,e,n,r){return qo(this.multi,[])}function Vo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),qo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],qo(i,s);return s}function qo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Bo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=vt(t);Ro(n,r.data,r.blueprint,i,!0),Ro(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ho{}class zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Go=(()=>{class t{}return t.NULL=new zo,t})();function $o(...t){}function Ko(t,e){return new Wo(Nt(t,e))}const Qo=function(){return Ko(Kt(),zt())};let Wo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Qo,t})();function Zo(t){return t instanceof Wo?t.nativeElement:t}class Yo{}let Xo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Jo(),t})();const Jo=function(){const t=zt(),e=Rt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ta=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const na=new ea("11.2.6");class ra{constructor(){}supports(t){return js(t)}create(t){return new sa(t)}}const ia=(t,e)=>e;class sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ca(n,r,i)?e:n,o=ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!js(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new oa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class la{constructor(){}supports(t){return t instanceof Map||Ds(t)}create(){return new ha}}class ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ds(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function da(){return new pa([new ra])}let pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||da()),deps:[[t,new An,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:da}),t})();function ma(){return new ga([new la])}let ga=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ma()),deps:[[t,new An,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:ma}),t})();function ya(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(jt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ya(e[1],e,n,r)}const o=n.type;if(8&o)ya(t,e,n.child,r);else if(32&o){const t=Ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Gr(e,n);if(Array.isArray(t))r.push(...t);else{const n=xr(e[16]);ya(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class va{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ya(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Lr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Fr(this._lView[1],this._lView)}onDestroy(t){ji(this._lView[1],this._lView,null,t)}markForCheck(){Wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Zi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ba extends va{constructor(t){super(t),this._view=t}detectChanges(){Yi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Yi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const _a=Ea;let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=_a,t.__ChangeDetectorRef__=!0,t})();function Ea(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Rt(t.index,e);return new va(n,n)}return 47&t.type?new va(e[16],e):null}(Kt(),zt(),t)}const Sa=[new la],Ta=new pa([new ra]),Oa=new ga(Sa),Ca=function(){return ka(Kt(),zt())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ca,t})();const Aa=Ia,xa=class extends Aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ei(e,n,t),new va(n)}};function ka(t,e){return 4&t.type?new xa(e,t,Ko(t,e)):null}class ja{}class Da{}const Na=function(){return Ua(Kt(),zt())};let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const Ra=Pa,La=class extends Ra{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ko(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(De(t)){const e=Pe(t,this._hostLView),n=Ne(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Fa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ja,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new La(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],hn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=$r(i,s),a=n[11],u=Br(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Qr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),hn(Ma(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Fa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(fn(Ma(this._lContainer),e),Fr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=fn(Ma(this._lContainer),e)?new va(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Fa(t){return t[8]}function Ma(t){return t[8]||(t[8]=[])}function Ua(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Ur(n,Br(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),Qi(e,n)}return new La(n,t,e)}const Va={};class qa extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new za(e,this.ngModule)}}function Ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class za extends Ho{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ui).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ba(this.componentDef.inputs)}get outputs(){return Ba(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Va,i);return s!==Va||r===Va?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Yo,kt),o=i.get(ta,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:Ji,playerHandler:null,flags:0},f=ki(0,null,null,1,0,null,null,null,null,null),d=bi(null,f,h,l,null,null,s,a,o,i);let p,m;le(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=_i(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(is(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&Yr(i,t,a.classes),null!==a.styles&&Zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=bi(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Be(Me(a,n),o,e.type),Fi(o,a),Ui(a,n.length,1)),Qi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Ie(a,c,["ng-version",na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ii(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&Yr(a,c,e.join(" "))}if(m=Pt(f,ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vi(t,r,e,wi(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);Tr(i,e);const s=Nt(r,e);return s&&Tr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Ri(n[1],a,0,a.directiveStart,a.directiveEnd,e),Li(e,o)),o}(t,this.componentDef,d,h,[Es]),Ei(f,d,null)}finally{me()}return new Ga(this.componentType,p,Ko(m,d),d,m)}}class Ga extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ba(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const $a=new Map;class Ka extends ja{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=lt(t),r=t[Z]||null;r&&Po(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=ds(t,e,[{provide:ja,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ws.THROW_IF_NOT_FOUND,n=j.Default){return t===ws||t===ja||t===ss?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends Da{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,$a.get(i),n),$a.set(i,n));const s=Cr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ka(this.moduleType,t)}}function Wa(t,e,n,r){return Za(zt(),te(),t,e,n,r)}function Za(t,e,n,r,i,s){const o=e+n;return Ns(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===ci?void 0:n}(t,o+1)}function Ya(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=N(Ls);try{const t=Le(!1),e=s();return Le(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{N(o)}}function Xa(t,e,n){const r=t+ht,i=zt(),s=function(t,e){return t[e]}(i,r);return function(t,e){return ks.isWrapped(e)&&(e=ks.unwrap(e),t[Bt.lFrame.bindingIndex]=ci),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Za(i,te(),e,s.transform,n,s):s.transform(n))}const Ja=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function tu(){return this._results[xs()]()}class eu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xs(),n=eu.prototype;n[e]||(n[e]=tu)}get changes(){return this._changes||(this._changes=new Ja)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class nu{constructor(t){this.queryList=t,this.matches=null}clone(){return new nu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ru{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ru(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==pu(t,e).matches&&this.queries[e].setDirty()}}class iu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class su{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new su(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ou{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ou(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,au(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===Ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Wo||r===Pa||r===Ia&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function au(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function uu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ko(t,e):4&t.type?ka(t,e):null}(e,t):-2===n?function(t,e,n){return n===Wo?Ko(e,t):n===Ia?ka(e,t):n===Pa?Ua(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function cu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:uu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function lu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=cu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&lu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];lu(n[1],n,i,r)}}}}}return r}function hu(t){const e=zt(),n=Gt(),r=oe();ae(r+1);const i=pu(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?lu(n,e,r,[]):cu(n,e,i,r);t.reset(s,Zo),t.notifyOnChanges()}return!0}return!1}function fu(t,e,n,r){const i=Gt();if(i.firstCreatePass){const s=Kt();(function(t,e,n){null===t.queries&&(t.queries=new su),t.queries.track(new ou(e,n))})(i,new iu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new eu(4==(4&n));ji(t,e,r,r.destroy),null===e[19]&&(e[19]=new ru),e[19].queries.push(new nu(r))}(i,zt(),n)}function du(){return t=zt(),e=oe(),t[19].queries[e].queryList;var t,e}function pu(t,e){return t.queries.getByIndex(e)}function mu(t=j.Default){const e=Ea(!0);if(null!=e||t&j.Optional)return e;w("ChangeDetectorRef")}const gu=new on("Application Initializer");let yu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=$o,this.reject=$o,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Gs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(gu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const vu=new on("AppId"),bu={provide:vu,useFactory:function(){return`${_u()}${_u()}${_u()}`},deps:[]};function _u(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wu=new on("Platform Initializer"),Eu=new on("Platform ID"),Su=new on("appBootstrapListener");let Tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ou=new on("LocaleId"),Cu=new on("DefaultCurrencyCode");class Iu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Au=function(t){return new Qa(t)},xu=Au,ku=function(t){return Promise.resolve(Au(t))},ju=function(t){const e=Au(t),n=Cr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new za(n)),t},[]);return new Iu(e,n)},Du=ju,Nu=function(t){return Promise.resolve(ju(t))};let Pu=(()=>{class t{constructor(){this.compileModuleSync=xu,this.compileModuleAsync=ku,this.compileModuleAndAllComponentsSync=Du,this.compileModuleAndAllComponentsAsync=Nu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ru=(()=>Promise.resolve(0))();function Lu(t){"undefined"==typeof Zone?Ru.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vu(t),Uu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return qu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Bu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return qu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Bu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Vu(t),Uu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Mu,$o,$o);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Mu={};function Uu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function qu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bu(t){t._nesting--,Uu(t)}class Hu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let zu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fu.assertNotInAngularZone(),Lu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(Fu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Gu=(()=>{class t{constructor(){this._applications=new Map,Wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class $u{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ku(t){Wu=t}let Qu,Wu=new $u,Zu=!0,Yu=!1;function Xu(){return Yu=!0,Zu}function Ju(){if(Yu)throw new Error("Cannot enable prod mode after platform setup.");Zu=!1}const tc=new on("AllowMultipleToken");class ec{constructor(t,e){this.name=t,this.token=e}}function nc(t,e,n=[]){const r=`Platform: ${e}`,i=new on(r);return(e=[])=>{let s=rc();if(!s||s.injector.get(tc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:as,useValue:"platform"});!function(t){if(Qu&&!Qu.destroyed&&!Qu.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qu=t.get(ic);const e=t.get(wu,null);e&&e.forEach(t=>t())}(ws.create({providers:t,name:r}))}return function(t){const e=rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function rc(){return Qu&&!Qu.destroyed?Qu:null}let ic=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Hu:("zone.js"===t?void 0:t)||new Fu({enableLongStackTrace:Xu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Fu,useValue:n}];return n.run(()=>{const e=ws.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Sr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{ac(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(yu);return t.runInitializers(),t.donePromise.then(()=>(Po(i.injector.get(Ou,Do)||Do),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=sc({},e);return function(t,e,n){const r=new Qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(oc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(ws))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function sc(t,e){return Array.isArray(e)?e.reduce(sc,t):Object.assign(Object.assign({},t),e)}let oc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fu.assertNotInAngularZone(),Lu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ho?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ja),i=n.create(ws.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(zu,null),a=o&&i.injector.get(Gu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),ac(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ac(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Su,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(Fu),Sn(ws),Sn(Sr),Sn(Go),Sn(yu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uc{}class cc{}const lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>fc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>fc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Sn(Pu),Sn(cc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function fc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const dc=function(t){return null},pc=nc(null,"core",[{provide:Eu,useValue:"unknown"},{provide:ic,deps:[ws]},{provide:Gu,deps:[]},{provide:Tu,deps:[]}]),mc=[{provide:oc,useClass:oc,deps:[Fu,ws,Sr,Go,yu]},{provide:Ha,deps:[Fu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:yu,useClass:yu,deps:[[new In,gu]]},{provide:Pu,useClass:Pu,deps:[]},bu,{provide:pa,useFactory:function(){return Ta},deps:[]},{provide:ga,useFactory:function(){return Oa},deps:[]},{provide:Ou,useFactory:function(t){return Po(t=t||"undefined"!=typeof $localize&&$localize.locale||Do),t},deps:[[new Cn(Ou),new In,new An]]},{provide:Cu,useValue:"USD"}];let gc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Sn(oc))},t.\u0275mod=it({type:t}),t.\u0275inj=S({providers:mc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[v,u.A,[new u.B,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class m extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ub)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Ub)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ub)(o).location;return new b(Object(r.Ub)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(g),r.Ub(a))},t.normalizeQueryParams=m,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.Ub)(g),Object(r.Ub)(a))}function S(t){return t.replace(/\/index.html$/,"")}const T={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var O=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),I=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){const n=Object(r.jb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===I.CurrencyDecimal)return n[r.ab.NumberSymbols][I.Decimal];if(e===I.CurrencyGroup)return n[r.ab.NumberSymbols][I.Group]}return i}const x=r.mb,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,j=".",D="0";function N(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class P{}let R=(()=>{class t extends P{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new M(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new V,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class V{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let B=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.jb)(t)[r.ab.Currencies]}(n)[t]||T[t]||[],s=i[1];return"narrow"===e&&"string"==typeof s?s:i[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return function(t,e,n,i,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(j)?i.split(j):[i.substring(0,i.lastIndexOf(D)+1),i.substring(i.lastIndexOf(D)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===D?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.jb)(t)[r.ab.NumberFormats][e]}(e,O.Currency),A(e,I.MinusSign));return o.minFrac=function(t){let e;const n=T[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(j))>-1&&(o=o.replace(j,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===D;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===D;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(k);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=N(e)),null!=n&&(h=N(n)),null!=r?f=N(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?g=d.splice(p,d.length):(g=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(A(n,r)),g.length&&(a+=A(n,i)+g.join("")),m&&(a+=A(n,I.Exponential)+"+"+m)}else a=A(n,I.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,I.CurrencyGroup,I.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,a,n,s)}catch(u){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.v),r.Lb(r.k))},t.\u0275pipe=r.Kb({name:"currency",type:t,pure:!0}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:P,useClass:R}]}),t})();function z(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new $(Object(r.Ub)(o),window)}),t})();class ${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=K(this.window.history)||K(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function K(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Z||(Z=document.querySelector("base"),Z)?Z.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let W,Z=null;const Y=new r.r("TRANSITION_ID"),X=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,o,r.s],multi:!0}];class J{static init(){Object(r.X)(new J)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const tt=new r.r("EventManagerPlugins");let et=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(tt),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t extends rt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=/%COMP%/g;function at(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?at(t,i,n):(i=i.replace(ot,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ct=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ht(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=at(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(et),r.Ub(it),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class ht extends lt{constructor(t,e,n,r){super(t),this.component=n;const i=at(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ot,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ot,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ft extends lt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=at(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dt=(()=>{class t extends nt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const pt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends nt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(pt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gt.hasOwnProperty(e)&&(e=gt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(_t)},token:t,providedIn:"root"}),t})(),_t=(()=>{class t extends bt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.db)(e,"HTML")?Object(r.wb)(e):Object(r.bb)(this._doc,String(e)).toString();case r.I.STYLE:return Object(r.db)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.wb)(e):Object(r.cb)(String(e));case r.I.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Hb)({factory:function(){return t=Object(r.Ub)(r.o),new _t(t.get(o));var t},token:t,providedIn:"root"}),t})();const wt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Q.makeCurrent(),J.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],Et=Object(r.S)(r.W,"browser",wt),St=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:tt,useClass:dt,multi:!0,deps:[o,r.A,r.C]},{provide:tt,useClass:vt,multi:!0,deps:[o]},[],{provide:ct,useClass:ct,deps:[et,it,r.c]},{provide:r.F,useExisting:ct},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:et,useClass:et,deps:[tt,r.A]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},X]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:St,imports:[H,r.f]}),t})();"undefined"!=typeof window&&window;var Ot=n("Cfvw"),Ct=n("LRne"),It=n("XNiG"),At=n("9ppp");class xt extends It.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.a;return this._value}next(t){super.next(this._value=t)}}var kt=n("z+Ro"),jt=n("DH7j"),Dt=n("7o/Q");class Nt extends Dt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Pt extends Dt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Rt=n("SeVD"),Lt=n("HDdC");function Ft(t,e,n,r,i=new Pt(t,n,r)){if(!i.closed)return e instanceof Lt.a?e.subscribe(i):Object(Rt.a)(e)(i)}var Mt=n("yCtX");const Ut={};class Vt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new qt(t,this.resultSelector))}}class qt extends Nt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ut),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ft(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ut?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Bt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ht=n("bHdf");function zt(...t){return Object(Ht.a)(1)(Object(Ct.a)(...t))}var Gt=n("EY2u");function $t(t){return new Lt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ot.a)(n):Object(Gt.b)()).subscribe(e)})}var Kt=n("EQ5u"),Qt=n("lJxs"),Wt=n("zx2A");function Zt(t,e){return"function"==typeof e?n=>n.pipe(Zt((n,r)=>Object(Ot.a)(t(n,r)).pipe(Object(Qt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Yt(t))}class Yt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xt(t,this.project))}}class Xt extends Wt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Wt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Wt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Jt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function te(t){return e=>0===t?Object(Gt.b)():e.lift(new ee(t))}class ee{constructor(t){if(this.total=t,this.total<0)throw new Jt}call(t,e){return e.subscribe(new ne(t,this.total))}}class ne extends Dt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function re(...t){const e=t[t.length-1];return Object(kt.a)(e)?(t.pop(),n=>zt(t,n,e)):e=>zt(t,e)}function ie(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new se(t,e,n))}}class se{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new oe(t,this.accumulator,this.seed,this.hasSeed))}}class oe extends Dt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ae(t,e){return function(n){return n.lift(new ue(t,e))}}class ue{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ce(t,this.predicate,this.thisArg))}}class ce extends Dt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function le(t){return function(e){const n=new he(t),r=e.lift(n);return n.caught=r}}class he{constructor(t){this.selector=t}call(t,e){return e.subscribe(new fe(t,this.selector,this.caught))}}class fe extends Wt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Wt.a(this);this.add(r);const i=Object(Wt.c)(n,r);i!==r&&this.add(i)}}}var de=n("5+tZ");function pe(t,e){return Object(de.a)(t,e,1)}function me(t){return function(e){return 0===t?Object(Gt.b)():e.lift(new ge(t))}}class ge{constructor(t){if(this.total=t,this.total<0)throw new Jt}call(t,e){return e.subscribe(new ye(t,this.total))}}class ye extends Dt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ve(t=we){return e=>e.lift(new be(t))}class be{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new _e(t,this.errorFactory))}}class _e extends Dt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(c_){t=c_}this.destination.error(t)}}}function we(){return new Bt}function Ee(t=null){return e=>e.lift(new Se(t))}class Se{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Te(t,this.defaultValue))}}class Te extends Dt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Oe=n("SpAZ");function Ce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ae((e,n)=>t(e,n,r)):Oe.a,te(1),n?Ee(e):ve(()=>new Bt))}var Ie=n("vkgz"),Ae=n("x+ZX"),xe=n("quSY");class ke{constructor(t){this.callback=t}call(t,e){return e.subscribe(new je(t,this.callback))}}class je extends Dt.a{constructor(t,e){super(t),this.add(new xe.a(e))}}class De{constructor(t,e){this.id=t,this.url=e}}class Ne extends De{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pe extends De{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends De{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Le extends De{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fe extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends De{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ve extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class He{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const We="primary";class Ze{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ye(t){return new Ze(t)}function Xe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Je(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!en(t[i],e[i]))return!1;return!0}function en(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function nn(t){return Array.prototype.concat.apply([],t)}function rn(t){return t.length>0?t[t.length-1]:null}function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function on(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Ot.a)(Promise.resolve(t)):Object(Ct.a)(t)}function an(t,e,n){return n?function(t,e){return tn(t,e)}(t.queryParams,e.queryParams)&&un(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>en(t[n],e[n]))}(t.queryParams,e.queryParams)&&cn(t.root,e.root)}function un(t,e){if(!pn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!un(t.children[n],e.children[n]))return!1}return!0}function cn(t,e){return ln(t,e,e.segments)}function ln(t,e,n){if(t.segments.length>n.length)return!!pn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!pn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!cn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!pn(t.segments,r)&&!!t.children.primary&&ln(t.children.primary,e,i)}}class hn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ye(this.queryParams)),this._queryParamMap}toString(){return yn.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vn(this)}}class dn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ye(this.parameters)),this._parameterMap}toString(){return On(this)}}function pn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class mn{}class gn{parse(t){const e=new kn(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${bn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${wn(e)}=${wn(t)}`).join("&"):`${wn(e)}=${wn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const yn=new gn;function vn(t){return t.segments.map(t=>On(t)).join("/")}function bn(t,e){if(!t.hasChildren())return vn(t);if(e){const e=t.children.primary?bn(t.children.primary,!1):"",n=[];return sn(t.children,(t,e)=>{e!==We&&n.push(`${e}:${bn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return sn(t.children,(t,r)=>{r===We&&(n=n.concat(e(t,r)))}),sn(t.children,(t,r)=>{r!==We&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===We?[bn(t.children.primary,!1)]:[`${n}:${bn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${vn(t)}/${e[0]}`:`${vn(t)}/(${e.join("//")})`}}function _n(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(t){return _n(t).replace(/%3B/gi,";")}function En(t){return _n(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sn(t){return decodeURIComponent(t)}function Tn(t){return Sn(t.replace(/\+/g,"%20"))}function On(t){return`${En(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${En(t)}=${En(e[t])}`).join("")}`;var e}const Cn=/^[^\/()?;=#]+/;function In(t){const e=t.match(Cn);return e?e[0]:""}const An=/^[^=?&#]+/,xn=/^[^?&#]+/;class kn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fn(t,e)),n}parseSegment(){const t=In(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dn(Sn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=In(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=In(this.remaining);t&&(n=t,this.capture(n))}t[Sn(e)]=Sn(n)}parseQueryParam(t){const e=function(t){const e=t.match(An);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Tn(e),i=Tn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=In(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=We);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new fn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class jn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Dn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Nn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Nn(t,this._root).map(t=>t.value)}}function Dn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Dn(t,n);if(e)return e}return null}function Nn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Nn(t,n);if(r.length)return r.unshift(e),r}return[]}class Pn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ln extends jn{constructor(t,e){super(t),this.snapshot=e,Bn(this,t)}toString(){return this.snapshot.toString()}}function Fn(t,e){const n=function(t,e){const n=new Vn([],{},{},"",{},We,e,null,t.root,-1,{});return new qn("",new Pn(n,[]))}(t,e),r=new xt([new dn("",{})]),i=new xt({}),s=new xt({}),o=new xt({}),a=new xt(""),u=new Mn(r,i,o,a,s,We,e,n.root);return u.snapshot=n.root,new Ln(new Pn(u,[]),n)}class Mn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Qt.a)(t=>Ye(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Qt.a)(t=>Ye(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Un(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qn extends jn{constructor(t,e){super(e),this.url=t,Bn(this,e)}toString(){return Hn(this._root)}}function Bn(t,e){e.value._routerState=t,e.children.forEach(e=>Bn(t,e))}function Hn(t){const e=t.children.length>0?` { ${t.children.map(Hn).join(", ")} } `:"";return`${t.value}${e}`}function zn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),tn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),tn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gn(t,e){return tn(t.params,e.params)&&function(t,e){return pn(t,e)&&t.every((t,n)=>tn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Gn(t.parent,e.parent))}function $n(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return $n(t,e,r);return $n(t,e)})}(t,e,n);return new Pn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Kn(e,t),t}{const n=new Mn(new xt((r=e.value).url),new xt(r.params),new xt(r.queryParams),new xt(r.fragment),new xt(r.data),r.outlet,r.component,r),i=e.children.map(e=>$n(t,e));return new Pn(n,i)}}var r}function Kn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Kn(t.children[n],e.children[n])}function Qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wn(t){return"object"==typeof t&&null!=t&&t.outlets}function Zn(t,e,n,r,i){let s={};return r&&sn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new hn(n.root===t?e:Yn(n.root,t,e),s,i)}function Yn(t,e,n){const r={};return sn(t.children,(t,i)=>{r[i]=t===e?n:Yn(t,e,n)}),new fn(t.segments,r)}class Xn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Wn);if(r&&r!==rn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function tr(t,e,n){if(t||(t=new fn([],{})),0===t.segments.length&&t.hasChildren())return er(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Wn(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!sr(a,u,e))return s;r+=2}else{if(!sr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new fn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new fn(t.segments.slice(r.pathIndex),t.children),er(e,0,i)}return r.match&&0===i.length?new fn(t.segments,{}):r.match&&!t.hasChildren()?nr(t,e,n):r.match?er(t,0,i):nr(t,e,n)}function er(t,e,n){if(0===n.length)return new fn(t.segments,{});{const r=function(t){return Wn(t[0])?t[0].outlets:{[We]:t}}(n),i={};return sn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=tr(t.children[r],e,n))}),sn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new fn(t.segments,i)}}function nr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Wn(s)){const t=rr(s.outlets);return new fn(r,t)}if(0===i&&Qn(n[0])){r.push(new dn(t.segments[e].path,ir(n[0]))),i++;continue}const o=Wn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qn(a)?(r.push(new dn(o,ir(a))),i+=2):(r.push(new dn(o,{})),i++)}return new fn(r,{})}function rr(t){const e={};return sn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=nr(new fn([],{}),0,t))}),e}function ir(t){const e={};return sn(t,(t,n)=>e[n]=`${t}`),e}function sr(t,e,n){return t==n.path&&tn(e,n.parameters)}class or{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),zn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Rn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),sn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Rn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Rn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ke(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ge(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(zn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ar(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ar(t){zn(t.value),t.children.forEach(ar)}class ur{constructor(t,e){this.routes=t,this.module=e}}function cr(t){return"function"==typeof t}function lr(t){return t instanceof hn}const hr=Symbol("INITIAL_VALUE");function fr(){return Zt(t=>function(...t){let e,n;return Object(kt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(jt.a)(t[0])&&(t=t[0]),Object(Mt.a)(t,n).lift(new Vt(e))}(t.map(t=>t.pipe(te(1),re(hr)))).pipe(ie((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==hr)return t;if(r===hr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||lr(r))return r}return t},t)},hr),ae(t=>t!==hr),Object(Qt.a)(t=>lr(t)?t:!0===t),te(1)))}let dr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[oi]},encapsulation:2}),t})();function pr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];mr(r,gr(e,r))}}function mr(t,e){t.children&&pr(t.children,e)}function gr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function yr(t){const e=t.children&&t.children.map(yr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==We&&(n.component=dr),n}function vr(t){return t.outlet||We}function br(t,e){const n=t.filter(t=>vr(t)===e);return n.push(...t.filter(t=>vr(t)!==e)),n}const _r={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function wr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},_r):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Je)(n,t,e);if(!i)return Object.assign({},_r);const s={};sn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Er(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Sr(t,e,n)&&vr(n)!==We)}(t,n,r)){const i=new fn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&vr(s)!==We){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[vr(s)]=n}return i}(t,e,r,new fn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Sr(t,e,n))}(t,n,r)){const s=new fn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Sr(t,n,a)&&!i[vr(a)]){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[vr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new fn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Sr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Tr(t,e,n,r){return!!(vr(t)===r||r!==We&&Sr(e,n,t))&&("**"===t.path||wr(e,t,n).matched)}function Or(t,e,n){return 0===e.length&&!t.children[n]}class Cr{constructor(t){this.segmentGroup=t||null}}class Ir{constructor(t){this.urlTree=t}}function Ar(t){return new Lt.a(e=>e.error(new Cr(t)))}function xr(t){return new Lt.a(e=>e.error(new Ir(t)))}function kr(t){return new Lt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class jr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Er(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,We).pipe(Object(Qt.a)(t=>this.createUrlTree(Dr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(le(t=>{if(t instanceof Ir)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Cr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,We).pipe(Object(Qt.a)(e=>this.createUrlTree(Dr(e),t.queryParams,t.fragment))).pipe(le(t=>{if(t instanceof Cr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new fn([],{[We]:t}):t;return new hn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Qt.a)(t=>new fn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ot.a)(r).pipe(pe(r=>{const i=n.children[r],s=br(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Qt.a)(t=>({segment:t,outlet:r})))}),ie((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ae((e,n)=>t(e,n,r)):Oe.a,me(1),n?Ee(e):ve(()=>new Bt))}())}expandSegment(t,e,n,r,i,s){return Object(Ot.a)(n).pipe(pe(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(le(t=>{if(t instanceof Cr)return Object(Ct.a)(null);throw t}))),Ce(t=>!!t),le((t,n)=>{if(t instanceof Bt||"EmptyError"===t.name){if(Or(e,r,i))return Object(Ct.a)(new fn([],{}));throw new Cr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Tr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Ar(e):Ar(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xr(i):this.lineralizeSegments(n,i).pipe(Object(de.a)(n=>{const i=new fn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=wr(e,r,i);if(!o)return Ar(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?xr(l):this.lineralizeSegments(r,l).pipe(Object(de.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ct.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Qt.a)(t=>(n._loadedConfig=t,new fn(r,{})))):Object(Ct.a)(new fn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=wr(e,n,r);if(!s)return Ar(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(de.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Er(e,o,u,s),l=new fn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(Qt.a)(t=>new fn(o,t)));if(0===s.length&&0===c.length)return Object(Ct.a)(new fn(o,{}));const h=vr(n)===i;return this.expandSegment(r,l,s,c,h?We:i,!0).pipe(Object(Qt.a)(t=>new fn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ct.a)(new ur(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(de.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Qt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Lt.a(e=>e.error(Xe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ct.a)(new ur([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&cr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!cr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return on(s)});return Object(Ct.a)(i).pipe(fr(),Object(Ie.a)(t=>{if(!lr(t))return;const e=Xe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Qt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ct.a)(n);if(r.numberOfChildren>1||!r.children.primary)return kr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return sn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new fn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Dr(t){const e={};for(const n of Object.keys(t.children)){const r=Dr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new fn(t.segments.concat(e.segments),e.children)}return t}(new fn(t.segments,e))}class Nr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Pr{constructor(t,e){this.component=t,this.route=e}}function Rr(t,e,n){const r=t._root;return Fr(r,e?e._root:null,n,[r.value])}function Lr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Fr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Rn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pn(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gn(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Nr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Fr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pr(a.outlet.component,o))}else o&&Mr(e,a,i),i.canActivateChecks.push(new Nr(r)),Fr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),sn(s,(t,e)=>Mr(t,n.getContext(e),i)),i}function Mr(t,e,n){const r=Rn(t),i=t.value;sn(r,(t,r)=>{Mr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Pr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ur{}function Vr(t){return new Lt.a(e=>e.error(t))}class qr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Er(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,We);if(null===e)return null;const n=new Vn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},We,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pn(n,e),i=new qn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Un(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=br(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!Br(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===We?-1:e.value.outlet===We?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Or(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Tr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?rn(n).parameters:{};i=new Vn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gr(t),vr(t),t.component,t,Hr(e),zr(e)+n.length,$r(t))}else{const r=wr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Vn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gr(t),vr(t),t.component,t,Hr(e),zr(e)+s.length,$r(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Er(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Pn(i,t)]}if(0===a.length&&0===c.length)return[new Pn(i,[])];const l=vr(t)===r,h=this.processSegment(a,u,c,l?We:r);return null===h?null:[new Pn(i,h)]}}function Br(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Gr(t){return t.data||{}}function $r(t){return t.resolve||{}}function Kr(t){return Zt(e=>{const n=t(e);return n?Object(Ot.a)(n).pipe(Object(Qt.a)(()=>e)):Object(Ct.a)(e)})}class Qr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wr=new r.r("ROUTES");class Zr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Qt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ur(nn(i.injector.get(Wr,void 0,r.q.Self|r.q.Optional)).map(yr),i)}),le(t=>{throw e._loader$=void 0,t}));return e._loader$=new Kt.a(n,()=>new It.a).pipe(Object(Ae.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Ot.a)(this.loader.load(t)):on(t()).pipe(Object(de.a)(t=>t instanceof r.w?Object(Ct.a)(t):Object(Ot.a)(this.compiler.compileModuleAsync(t))))}}class Yr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xr,this.attachRef=null}}class Xr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Yr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Jr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ti(t){throw t}function ei(t,e,n){return e.parse("/")}function ni(t,e){return Object(Ct.a)(null)}let ri=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new It.a,this.errorHandler=ti,this.malformedUriErrorHandler=ei,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ni,afterPreactivation:ni},this.urlHandlingStrategy=new Jr,this.routeReuseStrategy=new Qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.Y);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new hn(new fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(o,a,t=>this.triggerEvent(new Be(t)),t=>this.triggerEvent(new He(t))),this.routerState=Fn(this.currentUrlTree,this.rootComponentType),this.transitions=new xt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ae(t=>0!==t.id),Object(Qt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Zt(t=>{let n=!1,r=!1;return Object(Ct.a)(t).pipe(Object(Ie.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ct.a)(t).pipe(Zt(t=>{const n=this.transitions.getValue();return e.next(new Ne(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Gt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Zt(t=>function(t,e,n,r,i){return new jr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Qt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ie.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(de.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new qr(t,e,n,r,i,s).recognize();return null===o?Vr(new Ur):Object(Ct.a)(o)}catch(c_){return Vr(c_)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Qt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ie.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ne(n,this.serializeUrl(r),i,s);e.next(a);const u=Fn(r,this.rootComponentType).snapshot;return Object(Ct.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Gt.a}),Kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ie.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Qt.a)(t=>Object.assign(Object.assign({},t),{guards:Rr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(de.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ct.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ot.a)(t).pipe(Object(de.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ct.a)(!0);const o=s.map(s=>{const o=Lr(s,e,i);let a;if(function(t){return t&&cr(t.canDeactivate)}(o))a=on(o.canDeactivate(t,e,n,r));else{if(!cr(o))throw new Error("Invalid CanDeactivate guard");a=on(o(t,e,n,r))}return a.pipe(Ce())});return Object(Ct.a)(o).pipe(fr())}(t.component,t.route,n,e,r)),Ce(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(de.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ot.a)(e).pipe(pe(e=>zt(function(t,e){return null!==t&&e&&e(new ze(t)),Object(Ct.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new $e(t)),Object(Ct.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const s=Lr(i,e.node,n);let o;if(function(t){return t&&cr(t.canActivateChild)}(s))o=on(s.canActivateChild(r,t));else{if(!cr(s))throw new Error("Invalid CanActivateChild guard");o=on(s(r,t))}return o.pipe(Ce())});return Object(Ct.a)(i).pipe(fr())}));return Object(Ct.a)(i).pipe(fr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>$t(()=>{const i=Lr(r,e,n);let s;if(function(t){return t&&cr(t.canActivate)}(i))s=on(i.canActivate(e,t));else{if(!cr(i))throw new Error("Invalid CanActivate guard");s=on(i(e,t))}return s.pipe(Ce())}));return Object(Ct.a)(i).pipe(fr())}(t,e.route,n))),Ce(t=>!0!==t,!0))}(r,s,t,e):Object(Ct.a)(n)),Object(Qt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ie.a)(t=>{if(lr(t.guardsResult)){const e=Xe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ae(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Kr(t=>{if(t.guards.canActivateChecks.length)return Object(Ct.a)(t).pipe(Object(Ie.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Zt(t=>{let n=!1;return Object(Ct.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(de.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ct.a)(t);let s=0;return Object(Ot.a)(n).pipe(pe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ct.a)({});const s={};return Object(Ot.a)(i).pipe(Object(de.a)(i=>function(t,e,n,r){const i=Lr(t,e,r);return on(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ie.a)(t=>{s[i]=t}))),me(1),Object(de.a)(()=>Object.keys(s).length===i.length?Object(Ct.a)(s):Gt.a))}(t._resolve,t,e,r).pipe(Object(Qt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Un(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ie.a)(()=>s++),me(1),Object(de.a)(e=>s===n.length?Object(Ct.a)(t):Gt.a))})),Object(Ie.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ie.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Qt.a)(t=>{const e=function(t,e,n){const r=$n(t,e._root,n?n._root:void 0);return new Ln(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ie.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Qt.a)(t=>(new or(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Ie.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ke(i))),le(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=lr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Re(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Le(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(jh){t.reject(jh)}}var i;return Gt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){pr(t),this.config=t.map(yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Zn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return sn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Xn(n,e,r)}(n);if(s.toRoot())return Zn(e.root,new fn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Jn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Jn(t,t===e.root,0)}const r=Qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Jn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?er(o.segmentGroup,o.index,s.commands):tr(o.segmentGroup,o.index,s.commands);return Zn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=lr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(c_){e=this.malformedUriErrorHandler(c_,this.urlSerializer,t)}return e}isActive(t,e){if(lr(t))return an(this.currentUrlTree,t,e);const n=this.parseUrl(t);return an(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(mn),r.Ub(Xr),r.Ub(w),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ii=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new It.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:si(this.skipLocationChange),replaceUrl:si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:si(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ri),r.Lb(Mn),r.Vb("tabindex"),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function si(t){return""===t||!!t}let oi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||We,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ai(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Xr),r.Lb(r.Q),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ai{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Mn?this.route:t===Xr?this.childContexts:this.parent.get(t,e)}}class ui{}class ci{preload(t,e){return Object(Ct.a)(null)}}let li=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Zr(e,n,e=>t.triggerEvent(new Be(e)),e=>t.triggerEvent(new He(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ae(t=>t instanceof Pe),pe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ot.a)(n).pipe(Object(Ht.a)(),Object(Qt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(de.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ri),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(ui))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),hi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ne?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ri),r.Ub(G),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const fi=new r.r("ROUTER_CONFIGURATION"),di=new r.r("ROUTER_FORROOT_GUARD"),pi=[w,{provide:mn,useClass:gn},{provide:ri,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ri(null,t,e,n,r,i,o,nn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[mn,Xr,w,r.s,r.x,r.i,Wr,fi,[class{},new r.B],[class{},new r.B]]},Xr,{provide:Mn,useFactory:function(t){return t.routerState.root},deps:[ri]},{provide:r.x,useClass:r.K},li,ci,class{preload(t,e){return e().pipe(le(()=>Object(Ct.a)(null)))}},{provide:fi,useValue:{enableTracing:!1}}];function mi(){return new r.z("Router",ri)}let gi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pi,_i(e),{provide:di,useFactory:bi,deps:[[ri,new r.B,new r.J]]},{provide:fi,useValue:n||{}},{provide:g,useFactory:vi,deps:[a,[new r.p(v),new r.B],fi]},{provide:hi,useFactory:yi,deps:[ri,G,fi]},{provide:ui,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ci},{provide:r.z,multi:!0,useFactory:mi},[wi,{provide:r.d,multi:!0,useFactory:Ei,deps:[wi]},{provide:Ti,useFactory:Si,deps:[wi]},{provide:r.b,multi:!0,useExisting:Ti}]]}}static forChild(e){return{ngModule:t,providers:[_i(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(di,8),r.Ub(ri,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function yi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hi(t,e,n)}function vi(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function bi(t){return"guarded"}function _i(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Wr,multi:!0,useValue:t}]}let wi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new It.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ri),r=this.injector.get(fi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ct.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(fi),n=this.injector.get(li),i=this.injector.get(hi),s=this.injector.get(ri),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function Ei(t){return t.appInitializer.bind(t)}function Si(t){return t.bootstrapListener.bind(t)}const Ti=new r.r("Router Initializer");var Oi=n("XoHu");function Ci(t,e){return new Lt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Ot.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Ii{}const Ai=new r.r("NgValueAccessor"),xi={provide:Ai,useExisting:Object(r.U)(()=>ji),multi:!0},ki=new r.r("CompositionEventMode");let ji=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(ki,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([xi])]}),t})();function Di(t){return null==t||0===t.length}function Ni(t){return null!=t&&"number"==typeof t.length}const Pi=new r.r("NgValidators"),Ri=new r.r("NgAsyncValidators"),Li=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fi{static min(t){return function(t){return e=>{if(Di(e.value)||Di(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Di(e.value)||Di(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Di(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Di(t.value)||Li.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Di(e.value)||!Ni(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Ni(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Mi;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Di(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return zi(t)}static composeAsync(t){return $i(t)}}function Mi(t){return null}function Ui(t){return null!=t}function Vi(t){const e=Object(r.rb)(t)?Object(Ot.a)(t):t;return Object(r.qb)(e),e}function qi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bi(t,e){return e.map(e=>e(t))}function Hi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function zi(t){if(!t)return null;const e=t.filter(Ui);return 0==e.length?null:function(t){return qi(Bi(t,e))}}function Gi(t){return null!=t?zi(Hi(t)):null}function $i(t){if(!t)return null;const e=t.filter(Ui);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(jt.a)(e))return Ci(e,null);if(Object(Oi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ci(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ci(t=1===t.length&&Object(jt.a)(t[0])?t[0]:t,null).pipe(Object(Qt.a)(t=>e(...t)))}return Ci(t,null)}(Bi(t,e).map(Vi)).pipe(Object(Qt.a)(qi))}}function Ki(t){return null!=t?$i(Hi(t)):null}function Qi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wi(t){return t._rawValidators}function Zi(t){return t._rawAsyncValidators}let Yi=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ki(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Xi=(()=>{class t extends Yi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ji(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const Ji=r.Sb(Xi);class ts extends Yi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class es{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let ns=(()=>{class t extends es{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ts,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),rs=(()=>{class t extends es{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Xi,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function is(t,e){as(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cs(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ss(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),us(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function os(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function as(t,e,n){const r=Wi(t);null!==e.validator?t.setValidators(Qi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Zi(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();os(e._rawValidators,n),os(e._rawAsyncValidators,n)}}function us(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Wi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Zi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};os(e._rawValidators,t),os(e._rawAsyncValidators,t)}return r}function cs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ls(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hs="VALID",fs="INVALID",ds="PENDING",ps="DISABLED";function ms(t){return(bs(t)?t.validators:t)||null}function gs(t){return Array.isArray(t)?Gi(t):t||null}function ys(t,e){return(bs(e)?e.asyncValidators:t)||null}function vs(t){return Array.isArray(t)?Ki(t):t||null}function bs(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _s{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gs(this._rawValidators),this._composedAsyncValidatorFn=vs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hs}get invalid(){return this.status===fs}get pending(){return this.status==ds}get disabled(){return this.status===ps}get enabled(){return this.status!==ps}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gs(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=vs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ds,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ps,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hs,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==hs&&this.status!==ds||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ps:hs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator=!0;const e=Vi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Es?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ss&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ps:this.errors?fs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(fs)?fs:hs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bs(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ws extends _s{constructor(t=null,e,n){super(ms(e),ys(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ls(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ls(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Es extends _s{constructor(t,e,n){super(ms(e),ys(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ws?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ss extends _s{constructor(t,e,n){super(ms(e),ys(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ws?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ts=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Os={provide:Ai,useExisting:Object(r.U)(()=>Cs),multi:!0};let Cs=(()=>{class t extends Ii{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([Os]),r.xb]}),t})(),Is=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();const As=new r.r("NgModelWithFormControlWarning"),xs={provide:Xi,useExisting:Object(r.U)(()=>ks)};let ks=(()=>{class t extends Xi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(us(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return is(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ss(t.control||null,t,!1),ls(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(ss(e||null,t),n instanceof ws&&(is(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){as(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return us(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){as(this.form,this,!1),this._oldForm&&us(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Pi,10),r.Lb(Ri,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([xs]),r.xb,r.yb]}),t})();const js={provide:ts,useExisting:Object(r.U)(()=>Ds)};let Ds=(()=>{class t extends ts{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===ji?n=t:Object.getPrototypeOf(t.constructor)===Ii?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Xi,13),r.Lb(Pi,10),r.Lb(Ri,10),r.Lb(Ai,10),r.Lb(As,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([js]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})(),Ns=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[Is]]}),t})(),Ps=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:As,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[Ns]}),t})(),Rs=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new Es(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new ws(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ss(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ws||t instanceof Es||t instanceof Ss?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:Ps}),t})();var Ls=n("D0XW");function Fs(){return t=>t.lift(new Ms)}class Ms{call(t,e){return e.subscribe(new Us(t))}}class Us extends Dt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Vs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new qs(t,this.compare,this.keySelector))}}class qs extends Dt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Bs=n("pxpQ"),Hs=n("spgP"),zs=n("Jgta"),Gs=n("zIRd"),$s=n("q/0M"),Ks=n("qOnz"),Qs=function(t,e){return(Qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ws(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Zs,Ys="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xs=Xs||{},Js=Ys||self;function to(){}function eo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function no(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ro="closure_uid_"+(1e9*Math.random()>>>0),io=0;function so(t,e,n){return t.call.apply(t.bind,arguments)}function oo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ao(t,e,n){return(ao=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?so:oo).apply(null,arguments)}function uo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function co(){return Date.now()}function lo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ho(){this.j=this.j,this.i=this.i}ho.prototype.j=!1,ho.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ro)&&t[ro]||(t[ro]=++io)}(this)},ho.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var fo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},po=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function mo(t){return Array.prototype.concat.apply([],arguments)}function go(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function yo(t){return/^[\s\xa0]*$/.test(t)}var vo,bo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _o(t,e){return-1!=t.indexOf(e)}function wo(t,e){return t<e?-1:t>e?1:0}t:{var Eo=Js.navigator;if(Eo){var So=Eo.userAgent;if(So){vo=So;break t}}vo=""}function To(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Oo(t){var e={};for(var n in t)e[n]=t[n];return e}var Co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Io(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Co.length;s++)n=Co[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ao(t){return Ao[" "](t),t}Ao[" "]=to;var xo,ko,jo=_o(vo,"Opera"),Do=_o(vo,"Trident")||_o(vo,"MSIE"),No=_o(vo,"Edge"),Po=No||Do,Ro=_o(vo,"Gecko")&&!(_o(vo.toLowerCase(),"webkit")&&!_o(vo,"Edge"))&&!(_o(vo,"Trident")||_o(vo,"MSIE"))&&!_o(vo,"Edge"),Lo=_o(vo.toLowerCase(),"webkit")&&!_o(vo,"Edge");function Fo(){var t=Js.document;return t?t.documentMode:void 0}t:{var Mo="",Uo=(ko=vo,Ro?/rv:([^\);]+)(\)|;)/.exec(ko):No?/Edge\/([\d\.]+)/.exec(ko):Do?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ko):Lo?/WebKit\/(\S+)/.exec(ko):jo?/(?:Version)[ \/]?(\S+)/.exec(ko):void 0);if(Uo&&(Mo=Uo?Uo[1]:""),Do){var Vo=Fo();if(null!=Vo&&Vo>parseFloat(Mo)){xo=String(Vo);break t}}xo=Mo}var qo={};function Bo(t){return function(t,e){var n=qo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=bo(String(xo)).split("."),r=bo(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=wo(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||wo(0==o[2].length,0==a[2].length)||wo(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Ho=Js.document&&Do&&(Fo()||parseInt(xo,10))||void 0,zo=!Do||9<=Number(Ho),Go=Do&&!Bo("9"),$o=function(){if(!Js.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Js.addEventListener("test",to,e),Js.removeEventListener("test",to,e)}catch(n){}return t}();function Ko(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Qo(t,e){if(Ko.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ro){t:{try{Ao(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ko.prototype.b=function(){this.defaultPrevented=!0},lo(Qo,Ko);var Wo={2:"touch",3:"pen",4:"mouse"};Qo.prototype.b=function(){Qo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Go)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Zo="closure_listenable_"+(1e6*Math.random()|0),Yo=0;function Xo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Yo,this.Y=this.Z=!1}function Jo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ta(t){this.src=t,this.a={},this.b=0}function ea(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=fo(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Jo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function na(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ta.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=na(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Xo(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ra="closure_lm_"+(1e6*Math.random()|0),ia={};function sa(t,e,n,r,i){if(r&&r.once)return aa(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sa(t,e[s],n,r,i);return null}return n=ma(n),t&&t[Zo]?t.va(e,n,no(r)?!!r.capture:!!r,i):oa(t,e,n,!1,r,i)}function oa(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=no(i)?!!i.capture:!!i;if(o&&!zo)return null;var a=da(t);if(a||(t[ra]=a=new ta(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=fa,e=zo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$o||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(la(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aa(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aa(t,e[s],n,r,i);return null}return n=ma(n),t&&t[Zo]?t.wa(e,n,no(r)?!!r.capture:!!r,i):oa(t,e,n,!0,r,i)}function ua(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ua(t,e[s],n,r,i);else r=no(r)?!!r.capture:!!r,n=ma(n),t&&t[Zo]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=na(s=t.a[e],n,r,i))&&(Jo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=da(t))&&(e=t.a[e.toString()],t=-1,e&&(t=na(e,n,r,i)),(n=-1<t?e[t]:null)&&ca(n))}function ca(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zo])ea(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(la(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=da(e))?(ea(n,t),0==n.b&&(n.src=null,e[ra]=null)):Jo(t)}}}function la(t){return t in ia?ia[t]:ia[t]="on"+t}function ha(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ca(t),n.call(r,e)}function fa(t,e){if(t.Y)return!0;if(!zo){if(!e)t:{e=["window","event"];for(var n=Js,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ha(t,e=new Qo(e,this))}return ha(t,new Qo(e,this))}function da(t){return(t=t[ra])instanceof ta?t:null}var pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ma(t){return"function"==typeof t?t:(t[pa]||(t[pa]=function(e){return t.handleEvent(e)}),t[pa])}function ga(){ho.call(this),this.c=new ta(this),this.J=this,this.C=null}function ya(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ko(e,t);else if(e instanceof Ko)e.target=e.target||t;else{var i=e;Io(e=new Ko(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=va(o,r,!0,e)&&i}if(i=va(o=e.a=t,r,!0,e)&&i,i=va(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=va(o=e.a=n[s],r,!1,e)&&i}function va(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ea(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}lo(ga,ho),ga.prototype[Zo]=!0,(Zs=ga.prototype).addEventListener=function(t,e,n,r){sa(this,t,e,n,r)},Zs.removeEventListener=function(t,e,n,r){ua(this,t,e,n,r)},Zs.G=function(){if(ga.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Jo(n[r]);delete e.a[t],e.b--}}this.C=null},Zs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Zs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ba=Js.JSON.stringify;function _a(){this.b=this.a=null}var wa,Ea=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ta},function(t){t.reset()});function Sa(){var t=Aa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ta(){this.next=this.b=this.a=null}function Oa(t){Js.setTimeout(function(){throw t},0)}function Ca(t,e){wa||function(){var t=Js.Promise.resolve(void 0);wa=function(){t.then(xa)}}(),Ia||(wa(),Ia=!0),Aa.add(t,e)}_a.prototype.add=function(t,e){var n=Ea.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ta.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ta.prototype.reset=function(){this.next=this.b=this.a=null};var Ia=!1,Aa=new _a;function xa(){for(var t;t=Sa();){try{t.a.call(t.b)}catch(n){Oa(n)}var e=Ea;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ia=!1}function ka(t,e){ga.call(this),this.b=t||1,this.a=e||Js,this.f=ao(this.Za,this),this.g=co()}function ja(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Da(t,e,n){if("function"==typeof t)n&&(t=ao(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ao(t.handleEvent,t)}return 2147483647<Number(e)?-1:Js.setTimeout(t,e||0)}function Na(t){t.a=Da(function(){t.a=null,t.c&&(t.c=!1,Na(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}lo(ka,ga),(Zs=ka.prototype).aa=!1,Zs.M=null,Zs.Za=function(){if(this.aa){var t=co()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ya(this,"tick"),this.aa&&(ja(this),this.start()))}},Zs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=co())},Zs.G=function(){ka.X.G.call(this),ja(this),delete this.a};var Pa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Qs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Na(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Js.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ho);function Ra(t){ho.call(this),this.b=t,this.a={}}lo(Ra,ho);var La=[];function Fa(t,e,n,r){Array.isArray(n)||(n&&(La[0]=n.toString()),n=La);for(var i=0;i<n.length;i++){var s=sa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ma(t){To(t.a,function(t,e){this.a.hasOwnProperty(e)&&ca(t)},t),t.a={}}function Ua(){this.a=!0}function Va(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ba(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ra.prototype.G=function(){Ra.X.G.call(this),Ma(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ua.prototype.info=function(){};var qa={},Ba=null;function Ha(){return Ba=Ba||new ga}function za(t){Ko.call(this,qa.Fa,t)}function Ga(t){var e=Ha();ya(e,new za(e,t))}function $a(t,e){Ko.call(this,qa.STAT_EVENT,t),this.stat=e}function Ka(t){var e=Ha();ya(e,new $a(e,t))}function Qa(t){Ko.call(this,qa.Ga,t)}function Wa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Js.setTimeout(function(){t()},e)}qa.Fa="serverreachability",lo(za,Ko),qa.STAT_EVENT="statevent",lo($a,Ko),qa.Ga="timingevent",lo(Qa,Ko);var Za={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ya={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Xa(){}function Ja(){}Xa.prototype.a=null;var tu,eu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function nu(){Ko.call(this,"d")}function ru(){Ko.call(this,"c")}function iu(){}function su(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ra(this),this.P=ou,this.R=new ka(t=Po?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}lo(nu,Ko),lo(ru,Ko),lo(iu,Xa),tu=new iu;var ou=45e3,au={},uu={};function cu(t,e,n){t.H=1,t.i=ju(Ou(e)),t.j=n,t.I=!0,lu(t,null)}function lu(t,e){t.u=co(),du(t),t.l=Ou(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),zu(n.b,"t",r),t.D=0,t.a=Mc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Pa(ao(t.Ca,t,t.a),t.O)),Fa(t.J,t.a,"readystatechange",t.Xa),e=t.B?Oo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ga(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function hu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=fu(t,n);if(i==uu){4==e&&(t.h=4,Ka(14),r=!1),Va(t.c,t.f,null,"[Incomplete Response]");break}if(i==au){t.h=4,Ka(15),Va(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Va(t.c,t.f,i,null),vu(t,i)}4==e&&0==n.length&&(t.h=1,Ka(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),kc(e),e.F=!0,Ka(11))):(Va(t.c,t.f,n,"[Invalid Chunked Response]"),yu(t),gu(t))}function fu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?uu:(n=Number(e.substring(n,r)),isNaN(n)?au:(r+=1)+n>e.length?uu:(e=e.substr(r,n),t.D=r+n,e))}function du(t){t.T=co()+t.P,pu(t,t.P)}function pu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Wa(ao(t.Va,t),e)}function mu(t){t.o&&(Js.clearTimeout(t.o),t.o=null)}function gu(t){0==t.g.v||t.A||Nc(t.g,t)}function yu(t){mu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ja(t.R),Ma(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function vu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Yu(n.b,t)))if(n.I=t.N,!t.C&&Yu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Eb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Dc(n),wc(n)}xc(n),Ka(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Wa(ao(n.Sa,n),6e3));if(1>=Zu(n.b)&&n.ea){try{n.ea()}catch(Eb){}n.ea=void 0}}else Rc(n,11)}else if((t.C||n.a==t)&&Dc(n),!yo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(_o(l,"spdy")||_o(l,"quic")||_o(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Xu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ku(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=co()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Fc(u,u.C?u.ga:null,u.fa),d.C){Ju(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(mu(p),du(p)),u.a=d}else Ac(u);0<n.g.length&&Tc(n)}else"stop"!=i[0]&&"close"!=i[0]||Rc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Rc(n,7):_c(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ga(4)}catch(Eb){}}function bu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(eo(t)||"string"==typeof t)po(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(eo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(eo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function _u(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _u)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Eu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Eu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Eu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Zs=su.prototype).setTimeout=function(t){this.P=t},Zs.Xa=function(t){t=t.target;var e=this.F;e&&3==gc(t)?e.f():this.Ca(t)},Zs.Ca=function(t){try{if(t==this.a)t:{var e=gc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Po&&!this.a.$())){this.A||4!=e||7==n||Ga(8==n||0>=r?3:2),mu(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yo(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Ka(12),yu(this),gu(this);break t}Va(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,vu(this,u)}this.I?(hu(this,e,s),Po&&this.b&&3==e&&(Fa(this.J,this.R,"tick",this.Wa),this.R.start())):(Va(this.c,this.f,s,null),vu(this,s)),4==e&&yu(this),this.b&&!this.A&&(4==e?Nc(this.g,this):(this.b=!1,du(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ka(12)):(this.h=0,Ka(13)),yu(this),gu(this)}}}catch(c){}},Zs.Wa=function(){if(this.a){var t=gc(this.a),e=this.a.$();this.D<e.length&&(mu(this),hu(this,t,e),this.b&&4!=t&&du(this))}},Zs.cancel=function(){this.A=!0,yu(this)},Zs.Va=function(){this.o=null;var t=co();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ga(3),Ka(17)),yu(this),this.h=2,gu(this)):pu(this,this.T-t)},(Zs=_u.prototype).K=function(){wu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Zs.L=function(){return wu(this),this.a.concat()},Zs.get=function(t,e){return Eu(this.b,t)?this.b[t]:e},Zs.set=function(t,e){Eu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Zs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Su=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Tu){this.a=void 0!==e?e:t.a,Cu(this,t.f),this.j=t.j,Iu(this,t.c),Au(this,t.h),this.g=t.g,e=t.b;var n=new Vu;n.c=e.c,e.a&&(n.a=new _u(e.a),n.b=e.b),xu(this,n),this.i=t.i}else t&&(n=String(t).match(Su))?(this.a=!!e,Cu(this,n[1]||"",!0),this.j=Du(n[2]||""),Iu(this,n[3]||"",!0),Au(this,n[4]),this.g=Du(n[5]||"",!0),xu(this,n[6]||"",!0),this.i=Du(n[7]||"")):(this.a=!!e,this.b=new Vu(null,this.a))}function Ou(t){return new Tu(t)}function Cu(t,e,n){t.f=n?Du(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Iu(t,e,n){t.c=n?Du(e,!0):e}function Au(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function xu(t,e,n){e instanceof Vu?(t.b=e,function(t,e){e&&!t.f&&(qu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Bu(this,e),zu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Nu(e,Mu)),t.b=new Vu(e,t.a))}function ku(t,e,n){t.b.set(e,n)}function ju(t){return ku(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^co()).toString(36)),t}function Du(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Tu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Nu(e,Ru,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Nu(e,Ru,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Nu(n,"/"==n.charAt(0)?Fu:Lu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Nu(n,Uu)),t.join("")};var Ru=/[#\/\?@]/g,Lu=/[#\?:]/g,Fu=/[#\?]/g,Mu=/[#\?@]/g,Uu=/#/g;function Vu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qu(t){t.a||(t.a=new _u,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Bu(t,e){qu(t),e=Gu(t,e),Eu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Eu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wu(t)))}function Hu(t,e){return qu(t),e=Gu(t,e),Eu(t.a.b,e)}function zu(t,e,n){Bu(t,e),0<n.length&&(t.c=null,t.a.set(Gu(t,e),go(n)),t.b+=n.length)}function Gu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Zs=Vu.prototype).add=function(t,e){qu(this),this.c=null,t=Gu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Zs.forEach=function(t,e){qu(this),this.a.forEach(function(n,r){po(n,function(n){t.call(e,n,r,this)},this)},this)},Zs.L=function(){qu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Zs.K=function(t){qu(this);var e=[];if("string"==typeof t)Hu(this,t)&&(e=mo(e,this.a.get(Gu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=mo(e,t[n])}return e},Zs.set=function(t,e){return qu(this),this.c=null,Hu(this,t=Gu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Zs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Zs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var $u=function(){return function(t,e){this.b=t,this.a=e}}();function Ku(t){this.g=t||Qu,t=Js.PerformanceNavigationTiming?0<(t=Js.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Js.ia&&Js.ia.ya&&Js.ia.ya()&&Js.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qu=10;function Wu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Zu(t){return t.b?1:t.a?t.a.size:0}function Yu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Xu(t,e){t.a?t.a.add(e):t.b=e}function Ju(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function tc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ws(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return go(t.c)}function ec(){}function nc(){this.a=new ec}function rc(t,e,n){var r=n||"";try{bu(t,function(t,n){var i=t;no(t)&&(i=ba(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(c_){throw e.push(r+"type="+encodeURIComponent("_badmap")),c_}}function ic(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ku.prototype.cancel=function(){var t,e;if(this.c=tc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ws(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ec.prototype.stringify=function(t){return Js.JSON.stringify(t,void 0)},ec.prototype.parse=function(t){return Js.JSON.parse(t,void 0)};var sc=Js.JSON.parse;function oc(t){ga.call(this),this.headers=new _u,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ac,this.D=this.F=!1}lo(oc,ga);var ac="",uc=/^https?$/i,cc=["POST","PUT"];function lc(t){return"content-type"==t.toLowerCase()}function hc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,fc(t),pc(t)}function fc(t){t.u||(t.u=!0,ya(t,"complete"),ya(t,"error"))}function dc(t){if(t.b&&void 0!==Xs&&(!t.s[1]||4!=gc(t)||2!=t.W()))if(t.l&&4==gc(t))Da(t.za,0,t);else if(ya(t,"readystatechange"),4==gc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Su)[1]||null;if(!s&&Js.self&&Js.self.location){var o=Js.self.location.protocol;s=o.substr(0,o.length-1)}i=!uc.test(s?s.toLowerCase():"")}e=i}if(e)ya(t,"complete"),ya(t,"success");else{t.h=6;try{var a=2<gc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",fc(t)}}finally{pc(t)}}}function pc(t,e){if(t.a){mc(t);var n=t.a,r=t.s[0]?to:null;t.a=null,t.s=null,e||ya(t,"ready");try{n.onreadystatechange=r}catch(c_){}}}function mc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Js.clearTimeout(t.m),t.m=null)}function gc(t){return t.a?t.a.readyState:0}function yc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return To(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ku(t,e,n))}function vc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bc(t){this.pa=0,this.g=[],this.c=new Ua,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=vc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=vc("baseRetryDelayMs",5e3,t),this.Ra=vc("retryDelaySeedMs",1e4,t),this.Ma=vc("forwardChannelMaxRetries",2,t),this.ma=vc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ku(t&&t.concurrentRequestLimit),this.ka=new nc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function _c(t){if(Ec(t),3==t.v){var e=t.R++,n=Ou(t.B);ku(n,"SID",t.J),ku(n,"RID",e),ku(n,"TYPE","terminate"),Cc(t,n),(e=new su(t,t.c,e,void 0)).H=2,e.i=ju(Ou(n)),n=!1,Js.navigator&&Js.navigator.sendBeacon&&(n=Js.navigator.sendBeacon(e.i.toString(),"")),!n&&Js.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mc(e.g,null),e.a.ba(e.i)),e.u=co(),du(e)}Lc(t)}function wc(t){t.a&&(kc(t),t.a.cancel(),t.a=null)}function Ec(t){wc(t),t.j&&(Js.clearTimeout(t.j),t.j=null),Dc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Js.clearTimeout(t.h),t.h=null)}function Sc(t,e){t.g.push(new $u(t.Oa++,e)),3==t.v&&Tc(t)}function Tc(t){Wu(t.b)||t.h||(t.h=!0,Ca(t.Ba,t),t.u=0)}function Oc(t,e){var n;n=e?e.f:t.R++;var r=Ou(t.B);ku(r,"SID",t.J),ku(r,"RID",n),ku(r,"AID",t.P),Cc(t,r),t.i&&t.l&&yc(r,t.i,t.l),n=new su(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ic(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Xu(t.b,n),cu(n,r,e)}function Cc(t,e){t.f&&bu({},function(t,n){ku(e,n,t)})}function Ic(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ao(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{rc(l,o,"req"+c+"_")}catch(yl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ac(t){t.a||t.j||(t.T=1,Ca(t.Aa,t),t.o=0)}function xc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Wa(ao(t.Aa,t),Pc(t,t.o)),t.o++,0))}function kc(t){null!=t.s&&(Js.clearTimeout(t.s),t.s=null)}function jc(t){t.a=new su(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ou(t.la);ku(e,"RID","rpc"),ku(e,"SID",t.J),ku(e,"CI",t.H?"0":"1"),ku(e,"AID",t.P),Cc(t,e),ku(e,"TYPE","xmlhttp"),t.i&&t.l&&yc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ju(Ou(e)),n.j=null,n.I=!0,lu(n,t)}function Dc(t){null!=t.m&&(Js.clearTimeout(t.m),t.m=null)}function Nc(t,e){var n=null;if(t.a==e){Dc(t),kc(t),t.a=null;var r=2}else{if(!Yu(t.b,e))return;n=e.s,Ju(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=co()-e.u;var i=t.u;ya(r=Ha(),new Qa(r,n,e,i)),Tc(t)}else Ac(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Wa(ao(t.Ba,t,e),Pc(t,t.u)),t.u++,0)))}(t,e)||2==r&&xc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Rc(t,5);break;case 4:Rc(t,10);break;case 3:Rc(t,6);break;default:Rc(t,2)}}function Pc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Rc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ao(t.Ya,t);n||(n=new Tu("//www.google.com/images/cleardot.gif"),Js.location&&"http"==Js.location.protocol||Cu(n,"https"),ju(n)),function(t,e){var n=new Ua;if(Js.Image){var r=new Image;r.onload=uo(ic,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uo(ic,n,r,"TestLoadImage: error",!1,e),r.onabort=uo(ic,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uo(ic,n,r,"TestLoadImage: timeout",!1,e),Js.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ka(2);t.v=0,t.f&&t.f.ra(e),Lc(t),Ec(t)}function Lc(t){t.v=0,t.I=-1,t.f&&(0==tc(t.b).length&&0==t.g.length||(t.b.c.length=0,go(t.g),t.g.length=0),t.f.qa())}function Fc(t,e,n){var r=function(t){return t instanceof Tu?Ou(t):new Tu(t,void 0)}(n);if(""!=r.c)e&&Iu(r,e+"."+r.c),Au(r,r.h);else{var i=Js.location;r=function(t,e,n,r){var i=new Tu(null,void 0);return t&&Cu(i,t),e&&Iu(i,e),n&&Au(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&To(t.V,function(t,e){ku(r,e,t)}),n=t.na,(e=t.A)&&n&&ku(r,e,n),ku(r,"VER",t.ha),Cc(t,r),r}function Mc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oc(t.Na)).F=t.C,e}function Uc(){}function Vc(){if(Do&&!(10<=Number(Ho)))throw Error("Environmental error: no available transport.")}function qc(t,e){ga.call(this),this.a=new bc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!yo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new zc(this)}function Bc(t){nu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hc(){ru.call(this),this.status=1}function zc(t){this.a=t}(Zs=oc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:tu),this.a.onreadystatechange=ao(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void hc(this,s)}t=n||"";var i=new _u(this.headers);r&&bu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=lc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Js.FormData&&t instanceof Js.FormData,!(0<=fo(cc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{mc(this),0<this.o&&((this.D=function(t){return Do&&Bo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ao(this.xa,this)):this.m=Da(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){hc(this,s)}},Zs.xa=function(){void 0!==Xs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ya(this,"timeout"),this.abort(8))},Zs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ya(this,"complete"),ya(this,"abort"),pc(this))},Zs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),pc(this,!0)),oc.X.G.call(this)},Zs.za=function(){this.j||(this.A||this.l||this.g?dc(this):this.Ua())},Zs.Ua=function(){dc(this)},Zs.W=function(){try{return 2<gc(this)?this.a.status:-1}catch(ko){return-1}},Zs.$=function(){try{return this.a?this.a.responseText:""}catch(ko){return""}},Zs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sc(e)}},Zs.ua=function(){return this.h},Zs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Zs=bc.prototype).ha=8,Zs.v=1,Zs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new su(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Io(r=Oo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ic(this,n,e),ku(i=Ou(this.B),"RID",t),ku(i,"CVER",22),this.A&&ku(i,"X-HTTP-Session-Id",this.A),Cc(this,i),this.i&&r&&yc(i,this.i,r),Xu(this.b,n),this.Ia&&ku(i,"TYPE","init"),this.da?(ku(i,"$req",e),ku(i,"SID","null"),n.U=!0,cu(n,i,null)):cu(n,i,e),this.v=2}}else 3==this.v&&(t?Oc(this,t):0==this.g.length||Wu(this.b)||Oc(this))},Zs.Aa=function(){if(this.j=null,jc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Wa(ao(this.Ta,this),t)}},Zs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ka(10),wc(this),jc(this))},Zs.Sa=function(){null!=this.m&&(this.m=null,wc(this),xc(this),Ka(19))},Zs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ka(2)):(this.c.info("Failed to ping google.com"),Ka(1))},(Zs=Uc.prototype).ta=function(){},Zs.sa=function(){},Zs.ra=function(){},Zs.qa=function(){},Zs.Ja=function(){},Vc.prototype.a=function(t,e){return new qc(t,e)},lo(qc,ga),qc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ka(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Fc(t,null,t.fa),Tc(t)},qc.prototype.close=function(){_c(this.a)},qc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Sc(this.a,e)}else this.l?((e={}).__data__=ba(t),Sc(this.a,e)):Sc(this.a,t)},qc.prototype.G=function(){this.a.f=null,delete this.f,_c(this.a),delete this.a,qc.X.G.call(this)},lo(Bc,nu),lo(Hc,ru),lo(zc,Uc),zc.prototype.ta=function(){ya(this.a,"a")},zc.prototype.sa=function(t){ya(this.a,new Bc(t))},zc.prototype.ra=function(t){ya(this.a,new Hc(t))},zc.prototype.qa=function(){ya(this.a,"b")},Vc.prototype.createWebChannel=Vc.prototype.a,qc.prototype.send=qc.prototype.h,qc.prototype.open=qc.prototype.g,qc.prototype.close=qc.prototype.close,Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Ya.COMPLETE="complete",Ja.EventType=eu,eu.OPEN="a",eu.CLOSE="b",eu.ERROR="c",eu.MESSAGE="d",ga.prototype.listen=ga.prototype.va,oc.prototype.listenOnce=oc.prototype.wa,oc.prototype.getLastError=oc.prototype.Qa,oc.prototype.getLastErrorCode=oc.prototype.ua,oc.prototype.getStatus=oc.prototype.W,oc.prototype.getResponseJson=oc.prototype.Pa,oc.prototype.getResponseText=oc.prototype.$,oc.prototype.send=oc.prototype.ba;var Gc=Za,$c=Ya,Kc=qa,Qc=Ja,Wc=oc,Zc=n("mrSG"),Yc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Yc.o=-1;var Xc=new $s.b("@firebase/firestore");function Jc(){return Xc.logLevel}function tl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xc.logLevel<=$s.a.DEBUG){var r=e.map(rl);Xc.debug.apply(Xc,Object(Zc.f)(["Firestore (8.3.1): "+t],r))}}function el(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xc.logLevel<=$s.a.ERROR){var r=e.map(rl);Xc.error.apply(Xc,Object(Zc.f)(["Firestore (8.3.1): "+t],r))}}function nl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xc.logLevel<=$s.a.WARN){var r=e.map(rl);Xc.warn.apply(Xc,Object(Zc.f)(["Firestore (8.3.1): "+t],r))}}function rl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(c_){return t}}function il(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw el(e),new Error(e)}function sl(t,e){t||il()}function ol(t,e){return t}function al(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ul=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=al(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function cl(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function hl(t){return t+"\0"}function fl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ml(t){return null==t}function gl(t){return 0===t&&1/t==-1/0}function yl(t){return"number"==typeof t&&Number.isInteger(t)&&!gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var vl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Zc.c)(e,t),e}(Error),_l=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&il(),void 0===n?n=t.length-e:n>t.length-e&&il(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new bl(vl.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(_l),El=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return El.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new bl(vl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new bl(vl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new bl(vl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new bl(vl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(_l),Tl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(wl.fromString(e))},t.fromName=function(e){return new t(wl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return wl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new wl(e.slice()))},t}(),Ol=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return cl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ol.EMPTY_BYTE_STRING=new Ol("");var Cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(sl(!!t),"string"==typeof t){var e=0,n=Cl.exec(t);if(sl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Al(t.seconds),nanos:Al(t.nanos)}}function Al(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xl(t){return"string"==typeof t?Ol.fromBase64String(t):Ol.fromUint8Array(t)}var kl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bl(vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bl(vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new bl(vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bl(vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?cl(this.nanoseconds,t.nanoseconds):cl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function jl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dl(t){var e=t.mapValue.fields.__previous_value__;return jl(e)?Dl(e):e}function Nl(t){var e=Il(t.mapValue.fields.__local_write_time__.timestampValue);return new kl(e.seconds,e.nanos)}function Pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jl(t)?4:10:il()}function Rl(t,e){var n=Pl(t);if(n!==Pl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Il(t.timestampValue),r=Il(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return xl(t.bytesValue).isEqual(xl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Al(t.geoPointValue.latitude)===Al(e.geoPointValue.latitude)&&Al(t.geoPointValue.longitude)===Al(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Al(t.integerValue)===Al(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Al(t.doubleValue),r=Al(e.doubleValue);return n===r?gl(n)===gl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],Rl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(fl(n)!==fl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rl(n[i],r[i])))return!1;return!0}(t,e);default:return il()}}function Ll(t,e){return void 0!==(t.values||[]).find(function(t){return Rl(t,e)})}function Fl(t,e){var n=Pl(t),r=Pl(e);if(n!==r)return cl(n,r);switch(n){case 0:return 0;case 1:return cl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Al(t.integerValue||t.doubleValue),r=Al(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ml(t.timestampValue,e.timestampValue);case 4:return Ml(Nl(t),Nl(e));case 5:return cl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=xl(t),r=xl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=cl(n[i],r[i]);if(0!==s)return s}return cl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=cl(Al(t.latitude),Al(e.latitude));return 0!==n?n:cl(Al(t.longitude),Al(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Fl(n[i],r[i]);if(s)return s}return cl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=cl(r[o],s[o]);if(0!==a)return a;var u=Fl(n[r[o]],i[s[o]]);if(0!==u)return u}return cl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw il()}}function Ml(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return cl(t,e);var n=Il(t),r=Il(e),i=cl(n.seconds,r.seconds);return 0!==i?i:cl(n.nanos,r.nanos)}function Ul(t){return Vl(t)}function Vl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Il(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xl(t.bytesValue).toBase64():"referenceValue"in t?Tl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Vl(t.fields[s])}return e+"}"}(t.mapValue):il();var e}function ql(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Bl(t){return!!t&&"integerValue"in t}function Hl(t){return!!t&&"arrayValue"in t}function zl(t){return!!t&&"nullValue"in t}function Gl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $l(t){return!!t&&"mapValue"in t}var Kl=function(t,e){this.key=t,this.version=e},Ql=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).objectValue=r,s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Zc.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Kl),Wl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Zc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Kl),Zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Kl),Yl=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Xl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Yl(t,e,n,r,i,s,o)}function Jl(t){var e=ol(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ul(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ml(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fh(e.startAt)),e.endAt&&(n+="|ub:",n+=fh(e.endAt)),e.h=n}return e.h}function th(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ph(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Rl(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gh(t.startAt,e.startAt)&&gh(t.endAt,e.endAt)}function eh(t){return Tl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Zc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new rh(t,n,r):"array-contains"===n?new ah(t,r):"in"===n?new uh(t,r):"not-in"===n?new ch(t,r):"array-contains-any"===n?new lh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ih(t,n):new sh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Fl(e,this.value)):null!==e&&Pl(this.value)===Pl(e)&&this.m(Fl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return il()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),rh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Tl.fromName(r.referenceValue),i}return Object(Zc.c)(e,t),e.prototype.matches=function(t){var e=Tl.comparator(t.key,this.key);return this.m(e)},e}(nh),ih=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=oh(0,n),r}return Object(Zc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(nh),sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=oh(0,n),r}return Object(Zc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(nh);function oh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Tl.fromName(t.referenceValue)})}var ah=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Zc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Hl(e)&&Ll(e.arrayValue,this.value)},e}(nh),uh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Zc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ll(this.value.arrayValue,e)},e}(nh),ch=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Zc.c)(e,t),e.prototype.matches=function(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ll(this.value.arrayValue,e)},e}(nh),lh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Zc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Hl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ll(e.value.arrayValue,t)})},e}(nh),hh=function(t,e){this.position=t,this.before=e};function fh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ul(t)}).join(",")}var dh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ph(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function mh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Tl.comparator(Tl.fromName(o.referenceValue),n.key):Fl(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rl(t.position[n],e.position[n]))return!1;return!0}var yh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function vh(t,e,n,r,i,s,o,a){return new yh(t,e,n,r,i,s,o,a)}function bh(t){return new yh(t)}function _h(t){return!ml(t.limit)&&"F"===t.limitType}function wh(t){return!ml(t.limit)&&"L"===t.limitType}function Eh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Th(t){return null!==t.collectionGroup}function Oh(t){var e=ol(t);if(null===e.p){e.p=[];var n=Sh(e),r=Eh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new dh(n)),e.p.push(new dh(Sl.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new dh(Sl.keyField(),u))}}}return e.p}function Ch(t){var e=ol(t);if(!e.T)if("F"===e.limitType)e.T=Xl(e.path,e.collectionGroup,Oh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Oh(e);r<i.length;r++){var s=i[r];n.push(new dh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new hh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new hh(e.startAt.position,!e.startAt.before):null;e.T=Xl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Ih(t,e,n){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return th(Ch(t),Ch(e))&&t.limitType===e.limitType}function xh(t){return Jl(Ch(t))+"|lt:"+t.limitType}function kh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ul(e.value);var e}).join(", ")+"]"),ml(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fh(t.startAt)),t.endAt&&(e+=", endAt: "+fh(t.endAt)),"Target("+e+")"}(Ch(t))+"; limitType="+t.limitType+")"}function jh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Tl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!mh(t.startAt,Oh(t),e)||t.endAt&&mh(t.endAt,Oh(t),e))}(t,e)}function Dh(t){return function(e,n){for(var r=!1,i=0,s=Oh(t);i<s.length;i++){var o=s[i],a=Nh(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Nh(t,e,n){var r=t.field.isKeyField()?Tl.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Fl(r,i):il()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return il()}}var Ph=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new kl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Rh=function(){function t(t){this.fields=t,t.sort(Sl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ll(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Lh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!$l(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Rl(this.proto,t.proto)},t}(),Fh=function(){function t(t){void 0===t&&(t=Lh.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Pl(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Sl.emptyPath(),this.A);return null!=t?new Lh(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),s=$l(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.P(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Mh(t){var e=[];return dl(t.fields||{},function(t,n){var r=new Sl([t]);if($l(n)){var i=Mh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Rh(e)}function Uh(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gl(e)?"-0":e}}function Vh(t){return{integerValue:""+t}}function qh(t,e){return yl(e)?Vh(e):Uh(t,e)}var Bh=function(){this._=void 0};function Hh(t,e,n){return t instanceof $h?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Kh?Qh(t,e):t instanceof Wh?Zh(t,e):function(t,e){var n=Gh(t,e),r=Xh(n)+Xh(t.S);return Bl(n)&&Bl(t.S)?Vh(r):Uh(t.D,r)}(t,e)}function zh(t,e,n){return t instanceof Kh?Qh(t,e):t instanceof Wh?Zh(t,e):n}function Gh(t,e){return t instanceof Yh?Bl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e}(Bh),Kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Zc.c)(e,t),e}(Bh);function Qh(t,e){for(var n=Jh(e),r=function(t){n.some(function(e){return Rl(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Wh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Zc.c)(e,t),e}(Bh);function Zh(t,e){for(var n=Jh(e),r=function(t){n=n.filter(function(e){return!Rl(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Yh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Zc.c)(e,t),e}(Bh);function Xh(t){return Al(t.integerValue||t.doubleValue)}function Jh(t){return Hl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var tf=function(t,e){this.field=t,this.transform=e},ef=function(t,e){this.version=t,this.transformResults=e},nf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function rf(t,e){return void 0!==t.updateTime?e instanceof Ql&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ql}var sf=function(){};function of(t,e,n){return t instanceof hf?function(t,e,n){var r=t.value,i=pf(t.fieldTransforms,e,n.transformResults);return r=gf(t.fieldTransforms,r,i),new Ql(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ff?function(t,e,n){if(!rf(t.precondition,e))return new Zl(t.key,n.version);var r=df(t,e,pf(t.fieldTransforms,e,n.transformResults));return new Ql(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Wl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function af(t,e,n){return t instanceof hf?function(t,e,n){if(!rf(t.precondition,e))return e;var r=t.value,i=mf(t.fieldTransforms,n,e);r=gf(t.fieldTransforms,r,i);var s=lf(e);return new Ql(t.key,s,r,{hasLocalMutations:!0})}(t,e,n):t instanceof ff?function(t,e,n){if(!rf(t.precondition,e))return e;var r=lf(e),i=df(t,e,mf(t.fieldTransforms,n,e));return new Ql(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return rf(t.precondition,e)?new Wl(t.key,Ph.min()):e}(t,e)}function uf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Ql?e.field(s.field):void 0,a=Gh(s.transform,o||null);null!=a&&(n=null==n?(new Fh).set(s.field,a):n.set(s.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function cf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ll(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Kh&&e instanceof Kh||t instanceof Wh&&e instanceof Wh?ll(t.elements,e.elements,Rl):t instanceof Yh&&e instanceof Yh?Rl(t.S,e.S):t instanceof $h&&e instanceof $h}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function lf(t){return t instanceof Ql?t.version:Ph.min()}var hf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Zc.c)(e,t),e}(sf),ff=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Zc.c)(e,t),e}(sf);function df(t,e,n){var r;return r=function(t,e){var n=new Fh(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof Ql?e.data():Lh.empty()),gf(t.fieldTransforms,r,n)}function pf(t,e,n){var r=[];sl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Ql&&(a=e.field(s.field)),r.push(zh(o,a,n[i]))}return r}function mf(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=null;n instanceof Ql&&(u=n.field(o.field)),r.push(Hh(a,u,e))}return r}function gf(t,e,n){for(var r=new Fh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var yf,vf,bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Zc.c)(e,t),e}(sf),_f=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Zc.c)(e,t),e}(sf),wf=function(t){this.count=t};function Ef(t){switch(t){case vl.OK:return il();case vl.CANCELLED:case vl.UNKNOWN:case vl.DEADLINE_EXCEEDED:case vl.RESOURCE_EXHAUSTED:case vl.INTERNAL:case vl.UNAVAILABLE:case vl.UNAUTHENTICATED:return!1;case vl.INVALID_ARGUMENT:case vl.NOT_FOUND:case vl.ALREADY_EXISTS:case vl.PERMISSION_DENIED:case vl.FAILED_PRECONDITION:case vl.ABORTED:case vl.OUT_OF_RANGE:case vl.UNIMPLEMENTED:case vl.DATA_LOSS:return!0;default:return il()}}function Sf(t){if(void 0===t)return el("GRPC error has no .code"),vl.UNKNOWN;switch(t){case yf.OK:return vl.OK;case yf.CANCELLED:return vl.CANCELLED;case yf.UNKNOWN:return vl.UNKNOWN;case yf.DEADLINE_EXCEEDED:return vl.DEADLINE_EXCEEDED;case yf.RESOURCE_EXHAUSTED:return vl.RESOURCE_EXHAUSTED;case yf.INTERNAL:return vl.INTERNAL;case yf.UNAVAILABLE:return vl.UNAVAILABLE;case yf.UNAUTHENTICATED:return vl.UNAUTHENTICATED;case yf.INVALID_ARGUMENT:return vl.INVALID_ARGUMENT;case yf.NOT_FOUND:return vl.NOT_FOUND;case yf.ALREADY_EXISTS:return vl.ALREADY_EXISTS;case yf.PERMISSION_DENIED:return vl.PERMISSION_DENIED;case yf.FAILED_PRECONDITION:return vl.FAILED_PRECONDITION;case yf.ABORTED:return vl.ABORTED;case yf.OUT_OF_RANGE:return vl.OUT_OF_RANGE;case yf.UNIMPLEMENTED:return vl.UNIMPLEMENTED;case yf.DATA_LOSS:return vl.DATA_LOSS;default:return il()}}(vf=yf||(yf={}))[vf.OK=0]="OK",vf[vf.CANCELLED=1]="CANCELLED",vf[vf.UNKNOWN=2]="UNKNOWN",vf[vf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vf[vf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vf[vf.NOT_FOUND=5]="NOT_FOUND",vf[vf.ALREADY_EXISTS=6]="ALREADY_EXISTS",vf[vf.PERMISSION_DENIED=7]="PERMISSION_DENIED",vf[vf.UNAUTHENTICATED=16]="UNAUTHENTICATED",vf[vf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vf[vf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vf[vf.ABORTED=10]="ABORTED",vf[vf.OUT_OF_RANGE=11]="OUT_OF_RANGE",vf[vf.UNIMPLEMENTED=12]="UNIMPLEMENTED",vf[vf.INTERNAL=13]="INTERNAL",vf[vf.UNAVAILABLE=14]="UNAVAILABLE",vf[vf.DATA_LOSS=15]="DATA_LOSS";var Tf=function(){function t(t,e){this.comparator=t,this.root=e||Cf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Of(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Of(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Of(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Of(this.root,t,this.comparator,!0)},t}(),Of=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Cf=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw il();if(this.right.isRed())throw il();var t=this.left.check();if(t!==this.right.check())throw il();return t+(this.isRed()?0:1)},t}();Cf.EMPTY=null,Cf.RED=!0,Cf.BLACK=!1,Cf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw il()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Cf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var If=function(){function t(t){this.comparator=t,this.data=new Tf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Af(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Af(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Af=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xf=new Tf(Tl.comparator);function kf(){return xf}function jf(){return kf()}var Df=new Tf(Tl.comparator);function Nf(){return Df}var Pf=new Tf(Tl.comparator);function Rf(){return Pf}var Lf=new If(Tl.comparator);function Ff(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lf,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Mf=new If(cl);function Uf(){return Mf}var Vf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ph.min(),r,Uf(),kf(),Ff())},t}(),qf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ol.EMPTY_BYTE_STRING,n,Ff(),Ff(),Ff())},t}(),Bf=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Hf=function(t,e){this.targetId=t,this.$=e},zf=function(t,e,n,r){void 0===n&&(n=Ol.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gf=function(){function t(){this.F=0,this.O=Qf(),this.k=Ol.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Ff(),e=Ff(),n=Ff();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:il()}}),new qf(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Qf()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),$f=function(){function t(t){this.X=t,this.Z=new Map,this.tt=kf(),this.et=Kf(),this.nt=new If(cl)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Ql?this.it(r,t.N):t.N instanceof Wl&&this.rt(r,t.key,t.N)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.rt(r=s[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:il()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(eh(i))if(0===n){var s=new Tl(i.path);this.rt(e,s,new Wl(s,Ph.min()))}else sl(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var s=e.lt(i);if(s){if(r.current&&eh(s.target)){var o=new Tl(s.target.path);null!==e.tt.get(o)||e.wt(i,o)||e.rt(i,o,new Wl(o,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Ff();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Vf(t,n,this.nt,this.tt,r);return this.tt=kf(),this.et=Kf(),this.nt=new If(cl),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Gf,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new If(cl),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||tl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Gf),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Kf(){return new Tf(Tl.comparator)}function Qf(){return new Tf(Tl.comparator)}var Wf={asc:"ASCENDING",desc:"DESCENDING"},Zf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yf=function(t,e){this.databaseId=t,this.V=e};function Xf(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jf(t,e){return t.V?e.toBase64():e.toUint8Array()}function td(t,e){return Xf(t,e.toTimestamp())}function ed(t){return sl(!!t),Ph.fromTimestamp(function(t){var e=Il(t);return new kl(e.seconds,e.nanos)}(t))}function nd(t,e){return function(t){return new wl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function rd(t){var e=wl.fromString(t);return sl(Id(e)),e}function id(t,e){return nd(t.databaseId,e.path)}function sd(t,e){var n=rd(e);if(n.get(1)!==t.databaseId.projectId)throw new bl(vl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bl(vl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tl(cd(n))}function od(t,e){return nd(t.databaseId,e)}function ad(t){var e=rd(t);return 4===e.length?wl.emptyPath():cd(e)}function ud(t){return new wl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cd(t){return sl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ld(t,e,n){return{name:id(t,e),fields:n.proto.mapValue.fields}}function hd(t,e,n){var r=sd(t,e.name),i=ed(e.updateTime),s=new Lh({mapValue:{fields:e.fields}});return new Ql(r,i,s,{hasCommittedMutations:!!n})}function fd(t,e){var n;if(e instanceof hf)n={update:ld(t,e.key,e.value)};else if(e instanceof bf)n={delete:id(t,e.key)};else if(e instanceof ff)n={update:ld(t,e.key,e.data),updateMask:Cd(e.fieldMask)};else{if(!(e instanceof _f))return il();n={verify:id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $h)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yh)return{fieldPath:e.field.canonicalString(),increment:n.S};throw il()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:td(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:il()}(t,e.precondition)),n}function dd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?nf.updateTime(ed(t.updateTime)):void 0!==t.exists?nf.exists(t.exists):nf.none()}(e.currentDocument):nf.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(sl("REQUEST_TIME"===e.setToServerValue),n=new $h):"appendMissingElements"in e?n=new Kh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Wh(e.removeAllFromArray.values||[]):"increment"in e?n=new Yh(t,e.increment):il();var r=Sl.fromServerFormat(e.fieldPath);return new tf(r,n)}(t,e)}):[];if(e.update){var i=sd(t,e.update.name),s=new Lh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Rh((t.fieldPaths||[]).map(function(t){return Sl.fromServerFormat(t)}))}(e.updateMask);return new ff(i,s,o,n,r)}return new hf(i,s,n,r)}if(e.delete){var a=sd(t,e.delete);return new bf(a,n)}if(e.verify){var u=sd(t,e.verify);return new _f(u,n)}return il()}function pd(t,e){return{documents:[od(t,e.path)]}}function md(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=od(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=od(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Gl(t.value))return{unaryFilter:{field:Ed(t.field),op:"IS_NAN"}};if(zl(t.value))return{unaryFilter:{field:Ed(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Gl(t.value))return{unaryFilter:{field:Ed(t.field),op:"IS_NOT_NAN"}};if(zl(t.value))return{unaryFilter:{field:Ed(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ed(t.field),op:wd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ed(t.field),direction:_d(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.V||ml(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=vd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vd(e.endAt)),n}function gd(t){var e=ad(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=yd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new dh(Sd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ml(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=bd(n.startAt));var l=null;return n.endAt&&(l=bd(n.endAt)),vh(e,i,a,o,u,"F",c,l)}function yd(t){return t?void 0!==t.unaryFilter?[Od(t)]:void 0!==t.fieldFilter?[Td(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return yd(t)}).reduce(function(t,e){return t.concat(e)}):il():[]}function vd(t){return{before:t.before,values:t.position}}function bd(t){return new hh(t.values||[],!!t.before)}function _d(t){return Wf[t]}function wd(t){return Zf[t]}function Ed(t){return{fieldPath:t.canonicalString()}}function Sd(t){return Sl.fromServerFormat(t.fieldPath)}function Td(t){return nh.create(Sd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return il()}}(t.fieldFilter.op),t.fieldFilter.value)}function Od(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Sd(t.unaryFilter.field);return nh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Sd(t.unaryFilter.field);return nh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sd(t.unaryFilter.field);return nh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sd(t.unaryFilter.field);return nh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return il()}}function Cd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Id(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ad(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=kd(e)),e=xd(t.get(n),e);return kd(e)}function xd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function kd(t){return t+"\x01\x01"}function jd(t){var e=t.length;if(sl(e>=2),2===e)return sl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wl.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&il(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:il()}s=o+2}return new wl(r)}var Dd=function(t,e){this.seconds=t,this.nanoseconds=e},Nd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Nd.store="owner",Nd.key="owner";var Pd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Pd.store="mutationQueues",Pd.keyPath="userId";var Rd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rd.store="mutations",Rd.keyPath="batchId",Rd.userMutationsIndex="userMutationsIndex",Rd.userMutationsKeyPath=["userId","batchId"];var Ld=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ad(e)]},t.key=function(t,e,n){return[t,Ad(e),n]},t}();Ld.store="documentMutations",Ld.PLACEHOLDER=new Ld;var Fd=function(t,e){this.path=t,this.readTime=e},Md=function(t,e){this.path=t,this.version=e},Ud=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ud.store="remoteDocuments",Ud.readTimeIndex="readTimeIndex",Ud.readTimeIndexPath="readTime",Ud.collectionReadTimeIndex="collectionReadTimeIndex",Ud.collectionReadTimeIndexPath=["parentPath","readTime"];var Vd=function(t){this.byteSize=t};Vd.store="remoteDocumentGlobal",Vd.key="remoteDocumentGlobalKey";var qd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};qd.store="targets",qd.keyPath="targetId",qd.queryTargetsIndexName="queryTargetsIndex",qd.queryTargetsKeyPath=["canonicalId","targetId"];var Bd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Bd.store="targetDocuments",Bd.keyPath=["targetId","path"],Bd.documentTargetsIndex="documentTargetsIndex",Bd.documentTargetsKeyPath=["path","targetId"];var Hd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hd.key="targetGlobalKey",Hd.store="targetGlobal";var zd=function(t,e){this.collectionId=t,this.parent=e};zd.store="collectionParents",zd.keyPath=["collectionId","parent"];var Gd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Gd.store="clientMetadata",Gd.keyPath="clientId";var $d=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};$d.store="bundles",$d.keyPath="bundleId";var Kd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Kd.store="namedQueries",Kd.keyPath="name";var Qd=Object(Zc.f)(Object(Zc.f)([],Object(Zc.f)(Object(Zc.f)([],Object(Zc.f)(Object(Zc.f)([],Object(Zc.f)(Object(Zc.f)([],[Pd.store,Rd.store,Ld.store,Ud.store,qd.store,Nd.store,Hd.store,Bd.store]),[Gd.store])),[Vd.store])),[zd.store])),[$d.store,Kd.store]),Wd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Yd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&il(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Jd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Yd,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new np(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=ap(e.target.error);n.gt.reject(new np(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new np(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(tl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ip(e)},t}(),tp=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Ks.g)())&&el("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return tl("SimpleDb","Removing database:",t),sp(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Ks.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(tl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new np(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new bl(vl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new np(t,n))},i.onupgradeneeded=function(t){tl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){tl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Zc.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Zc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Zc.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=Jd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Xd.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return tl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ep=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return sp(this.xt.delete())},t}(),np=function(t){function e(e,n){var r=this;return(r=t.call(this,vl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Zc.c)(e,t),e}(bl);function rp(t){return"IndexedDbTransactionError"===t.name}var ip=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(tl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(tl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sp(n)},t.prototype.add=function(t){return tl("SimpleDb","ADD",this.store.name,t,t),sp(this.store.add(t))},t.prototype.get=function(t){var e=this;return sp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),tl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return tl("SimpleDb","DELETE",this.store.name,t),sp(this.store.delete(t))},t.prototype.count=function(){return tl("SimpleDb","COUNT",this.store.name),sp(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){tl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Xd(function(n,r){e.onerror=function(t){var e=ap(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Xd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new ep(i),o=e(i.primaryKey,i.value,s);if(o instanceof Xd){var a=o.catch(function(t){return s.done(),Xd.reject(t)});n.push(a)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}else r()}}).next(function(){return Xd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function sp(t){return new Xd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ap(t.target.error);n(e)}})}var op=!1;function ap(t){var e=tp.It(Object(Ks.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new bl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return op||(op=!0,setTimeout(function(){throw r},0)),r}}return t}var up=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Zc.c)(e,t),e}(Zd);function cp(t,e){var n=ol(t);return tp.Pt(n.Qt,e)}var lp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=of(s,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=af(o,e,this.localWriteTime));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=af(o,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ff())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ll(this.mutations,t.mutations,function(t,e){return cf(t,e)})&&ll(this.baseMutations,t.baseMutations,function(t,e){return cf(t,e)})},t}(),hp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){sl(e.mutations.length===r.length);for(var i=Rf(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),fp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Ph.min()),void 0===s&&(s=Ph.min()),void 0===o&&(o=Ol.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),dp=function(t){this.Kt=t};function pp(t,e){if(e.document)return hd(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Tl.fromSegments(e.noDocument.path),r=bp(e.noDocument.readTime);return new Wl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Tl.fromSegments(e.unknownDocument.path);return r=bp(e.unknownDocument.version),new Zl(i,r)}return il()}function mp(t,e,n){var r=gp(n),i=e.key.path.popLast().toArray();if(e instanceof Ql){var s=function(t,e){return{name:id(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Xf(t,e.version.toTimestamp())}}(t.Kt,e),o=e.hasCommittedMutations;return new Ud(null,null,s,o,r,i)}if(e instanceof Wl){var a=e.key.path.toArray(),u=vp(e.version);return o=e.hasCommittedMutations,new Ud(null,new Fd(a,u),null,o,r,i)}if(e instanceof Zl){var c=e.key.path.toArray(),l=vp(e.version);return new Ud(new Md(c,l),null,null,!0,r,i)}return il()}function gp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yp(t){var e=new kl(t[0],t[1]);return Ph.fromTimestamp(e)}function vp(t){var e=t.toTimestamp();return new Dd(e.seconds,e.nanoseconds)}function bp(t){var e=new kl(t.seconds,t.nanoseconds);return Ph.fromTimestamp(e)}function _p(t,e){for(var n=(e.baseMutations||[]).map(function(e){return dd(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return dd(t.Kt,e)}),s=kl.fromMillis(e.localWriteTimeMs);return new lp(e.batchId,s,n,i)}function wp(t){var e,n,r=bp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bp(t.lastLimboFreeSnapshotVersion):Ph.min();return void 0!==t.query.documents?(sl(1===(n=t.query).documents.length),e=Ch(bh(ad(n.documents[0])))):e=function(t){return Ch(gd(t))}(t.query),new fp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ol.fromBase64String(t.resumeToken))}function Ep(t,e){var n,r=vp(e.snapshotVersion),i=vp(e.lastLimboFreeSnapshotVersion);n=eh(e.target)?pd(t.Kt,e.target):md(t.Kt,e.target);var s=e.resumeToken.toBase64();return new qd(e.targetId,Jl(e.target),r,s,e.sequenceNumber,i,n)}function Sp(t){var e=gd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ih(e,e.limit,"L"):e}var Tp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Op(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:bp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Op(t).put({bundleId:(n=e).id,createTime:vp(ed(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Cp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Sp(e.bundledQuery),readTime:bp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Cp(t).put(function(t){return{name:t.name,readTime:vp(ed(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Op(t){return cp(t,$d.store)}function Cp(t){return cp(t,Kd.store)}var Ip=function(){function t(){this.Wt=new Ap}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Xd.resolve()},t.prototype.getCollectionParents=function(t,e){return Xd.resolve(this.Wt.getEntries(e))},t}(),Ap=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new If(wl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new If(wl.comparator)).toArray()},t}(),xp=function(){function t(){this.jt=new Ap}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var s={collectionId:r,parent:Ad(i)};return kp(t).put(s)}return Xd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[hl(e),""],!1,!0);return kp(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(jd(s.parent))}return n})},t}();function kp(t){return cp(t,zd.store)}var jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Np(t,e,n){var r=t.store(Rd.store),i=t.store(Ld.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){sl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ld.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Xd.waitFor(s).next(function(){return c})}function Pp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw il();e=t.noDocument}return JSON.stringify(e).length}Dp.DEFAULT_COLLECTION_PERCENTILE=10,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dp.DEFAULT=new Dp(41943040,Dp.DEFAULT_COLLECTION_PERCENTILE,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dp.DISABLED=new Dp(-1,0,0);var Rp=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return sl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fp(t).qt({index:Rd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Mp(t),o=Fp(t);return o.add({}).next(function(a){sl("number"==typeof a);for(var u=new lp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return fd(t.Kt,e)}),i=n.mutations.map(function(e){return fd(t.Kt,e)});return new Rd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new If(function(t,e){return cl(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],m=Ld.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,Ld.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[a]=u.keys()}),Xd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Fp(t).get(e).next(function(t){return t?(sl(t.userId===n.userId),_p(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Xd.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Fp(t).qt({index:Rd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(sl(e.batchId>=r),s=_p(n.D,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fp(t).qt({index:Rd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fp(t).kt(Rd.userMutationsIndex,n).next(function(t){return t.map(function(t){return _p(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ld.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Mp(t).qt({range:i},function(r,i,o){var a=r[0],u=r[2],c=jd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Fp(t).get(u).next(function(t){if(!t)throw il();sl(t.userId===n.userId),s.push(_p(n.D,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new If(cl),i=[];return e.forEach(function(e){var s=Ld.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Mp(t).qt({range:o},function(t,i,s){var o=t[0],a=t[2],u=jd(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Xd.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Ld.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new If(cl);return Mp(t).qt({range:o},function(t,e,s){var o=t[0],u=t[2],c=jd(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Yt(t,a)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Fp(t).get(e).next(function(t){if(null===t)throw il();sl(t.userId===n.userId),r.push(_p(n.D,t))}))}),Xd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Np(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Xd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Xd.resolve();var r=IDBKeyRange.lowerBound(Ld.prefixForUser(e.userId)),i=[];return Mp(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var s=jd(t[1]);i.push(s)}else r.done()}).next(function(){sl(0===i.length)})})},t.prototype.containsKey=function(t,e){return Lp(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Up(t).get(this.userId).next(function(t){return t||new Pd(e.userId,-1,"")})},t}();function Lp(t,e,n){var r=Ld.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Mp(t).qt({range:s,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Fp(t){return cp(t,Rd.store)}function Mp(t){return cp(t,Ld.store)}function Up(t){return cp(t,Pd.store)}var Vp=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),qp=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Vp(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Ph.fromTimestamp(new kl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Bp(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return sl(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Bp(t).qt(function(o,a){var u=wp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Xd.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Bp(t).qt(function(t,n){var r=wp(n);e(r)})},t.prototype.se=function(t){return Hp(t).get(Hd.key).next(function(t){return sl(null!==t),t})},t.prototype.ie=function(t,e){return Hp(t).put(Hd.key,e)},t.prototype.re=function(t,e){return Bp(t).put(Ep(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Jl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bp(t).qt({range:r,index:qd.queryTargetsIndexName},function(t,n,r){var s=wp(n);th(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=zp(t);return e.forEach(function(e){var o=Ad(e.path);i.push(s.put(new Bd(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Xd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=zp(t);return Xd.forEach(e,function(e){var s=Ad(e.path);return Xd.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=zp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zp(t),i=Ff();return r.qt({range:n,Bt:!0},function(t,e,n){var r=jd(t[1]),s=new Tl(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Ad(e.path),r=IDBKeyRange.bound([n],[hl(n)],!1,!0),i=0;return zp(t).qt({index:Bd.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Bp(t).get(e).next(function(t){return t?wp(t):null})},t}();function Bp(t){return cp(t,qd.store)}function Hp(t){return cp(t,Hd.store)}function zp(t){return cp(t,Bd.store)}function Gp(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){if(t.code!==vl.FAILED_PRECONDITION||t.message!==Wd)throw t;return tl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function $p(t,e){var n=t[1],r=e[1],i=cl(t[0],e[0]);return 0===i?cl(n,r):i}var Kp=function(){function t(t){this.ce=t,this.buffer=new If($p),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$p(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;tl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Zc.b)(e,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return rp(e=n.sent())?(tl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Gp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Wp=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Xd.resolve(Yc.o);var r=new Kp(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(tl("LruGarbageCollector","Garbage collection skipped; disabled"),Xd.resolve(jp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(tl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jp):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(tl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Jc()<=$s.a.DEBUG&&tl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Xd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Zp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Wp(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Yp(t,n)},t.prototype.removeReference=function(t,e,n){return Yp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Yp(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Up(t).Ut(function(r){return Lp(t,r,e).next(function(t){return t&&(n=!0),Xd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.pe(t,function(o,a){if(a<=e){var u=n.Ee(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),zp(t).delete([0,Ad(o.path)])})});i.push(u)}}).next(function(){return Xd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Yp(t,e)},t.prototype.pe=function(t,e){var n,r=zp(t),i=Yc.o;return r.qt({index:Bd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Yc.o&&e(new Tl(jd(n)),i),i=o,n=s):i=Yc.o}).next(function(){i!==Yc.o&&e(new Tl(jd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Yp(t,e){return zp(t).put(function(t,e){return new Bd(0,Ad(t.path),e)}(e,t.currentSequenceNumber))}var Xp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){dl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return pl(this.inner)},t}(),Jp=function(){function t(){this.changes=new Xp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ph.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Xd.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),tm=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return rm(t).put(im(e),n)},t.prototype.removeEntry=function(t,e){var n=rm(t),r=im(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return rm(t).get(im(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return rm(t).get(im(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Pp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=jf();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=jf(),i=new Tf(Tl.comparator);return this.Re(t,e,function(t,e){var s=n.Ie(e);s?(r=r.insert(t,s),i=i.insert(t,Pp(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Xd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return rm(t).qt({range:r},function(t,e,r){for(var o=Tl.fromSegments(t);s&&Tl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ot(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Nf(),s=e.path.length+1,o={};if(n.isEqual(Ph.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=gp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Ud.collectionReadTimeIndex}return rm(t).qt(o,function(t,n,o){if(t.length===s){var a=pp(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof Ql&&jh(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new em(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return nm(t).get(Vd.key).next(function(t){return sl(!!t),t})},t.prototype.Te=function(t,e){return nm(t).put(Vd.key,e)},t.prototype.Ie=function(t){if(t){var e=pp(this.D,t);return e instanceof Wl&&e.version.isEqual(Ph.min())?null:e}return null},t}(),em=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Xp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Zc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new If(function(t,e){return cl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Se.get(s);if(o.maybeDocument){var u=mp(e.Ve.D,o.maybeDocument,e.getReadTime(s));i=i.add(s.path.popLast());var c=Pp(u);r+=c-a,n.push(e.Ve.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=mp(e.Ve.D,new Wl(s,Ph.min()),e.getReadTime(s));n.push(e.Ve.addEntry(t,s,l))}else n.push(e.Ve.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Xd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Jp);function nm(t){return cp(t,Vd.store)}function rm(t){return cp(t,Ud.store)}function im(t){return t.path.toArray()}var sm=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;sl(n<r&&n>=0&&r<=11);var s=new Jd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Nd.store)}(t),function(t){t.createObjectStore(Pd.store,{keyPath:Pd.keyPath}),t.createObjectStore(Rd.store,{keyPath:Rd.keyPath,autoIncrement:!0}).createIndex(Rd.userMutationsIndex,Rd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ld.store)}(t),om(t),function(t){t.createObjectStore(Ud.store)}(t));var o=Xd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Bd.store),t.deleteObjectStore(qd.store),t.deleteObjectStore(Hd.store)}(t),om(t)),o=o.next(function(){return function(t){var e=t.store(Hd.store),n=new Hd(0,0,Ph.min().toTimestamp(),0);return e.put(Hd.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Rd.store).kt().next(function(n){t.deleteObjectStore(Rd.store),t.createObjectStore(Rd.store,{keyPath:Rd.keyPath,autoIncrement:!0}).createIndex(Rd.userMutationsIndex,Rd.userMutationsKeyPath,{unique:!0});var r=e.store(Rd.store),i=n.map(function(t){return r.put(t)});return Xd.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.De(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Vd.store)}(t),i.Ce(s)})),n<7&&r>=7&&(o=o.next(function(){return i.xe(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Ne(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ud.store);e.createIndex(Ud.readTimeIndex,Ud.readTimeIndexPath,{unique:!1}),e.createIndex(Ud.collectionReadTimeIndex,Ud.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.$e(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore($d.store,{keyPath:$d.keyPath})}(t),function(t){t.createObjectStore(Kd.store,{keyPath:Kd.keyPath})}(t)})),o},t.prototype.Ce=function(t){var e=0;return t.store(Ud.store).qt(function(t,n){e+=Pp(n)}).next(function(){var n=new Vd(e);return t.store(Vd.store).put(Vd.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Pd.store),r=t.store(Rd.store);return n.kt().next(function(n){return Xd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Rd.userMutationsIndex,i).next(function(r){return Xd.forEach(r,function(r){sl(r.userId===n.userId);var i=_p(e.D,r);return Np(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Bd.store),n=t.store(Ud.store);return t.store(Hd.store).get(Hd.key).next(function(t){var r=[];return n.qt(function(n,i){var s=new wl(n),o=function(t){return[0,Ad(t)]}(s);r.push(e.get(o).next(function(n){return n?Xd.resolve():function(n){return e.put(new Bd(0,Ad(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Xd.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(zd.store,{keyPath:zd.keyPath});var n=e.store(zd.store),r=new Ap,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ad(i)})}};return e.store(Ud.store).qt({Bt:!0},function(t,e){var n=new wl(t);return i(n.popLast())}).next(function(){return e.store(Ld.store).qt({Bt:!0},function(t,e){var n=jd(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(qd.store);return n.qt(function(t,r){var i=wp(r),s=Ep(e.D,i);return n.put(s)})},t}();function om(t){t.createObjectStore(Bd.store,{keyPath:Bd.keyPath}).createIndex(Bd.documentTargetsIndex,Bd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qd.store,{keyPath:qd.keyPath}).createIndex(qd.queryTargetsIndexName,qd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hd.store)}var am="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",um=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=s,this.window=o,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new bl(vl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zp(this,i),this.We=n+"main",this.D=new dp(u),this.je=new tp(this.We,11,new sm(this.D)),this.Ge=new qp(this.referenceDelegate,this.D),this.Gt=new xp,this.ze=function(t,e){return new tm(t,e)}(this.D,this.Gt),this.He=new Tp,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&el("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new bl(vl.FAILED_PRECONDITION,am);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Yc(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Zc.b)(e,void 0,void 0,function(){return Object(Zc.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(Zc.b)(e,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(Zc.b)(e,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return lm(e).put(new Gd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(rp(e))return tl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return tl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return cm(t).get(Nd.key).next(function(t){return Xd.resolve(e.cn(t))})},t.prototype.an=function(t){return lm(t).delete(this.clientId)},t.prototype.un=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=cp(t,Gd.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Xd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Xd.resolve(!0):cm(t).get(Nd.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new bl(vl.FAILED_PRECONDITION,am);return!1}}return!(!e.networkEnabled||!e.inForeground)||lm(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&tl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t=this;return Object(Zc.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Nd.store,Gd.store],function(e){var n=new up(e,Yc.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return lm(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Rp.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return tl("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Qd,function(s){return r=new up(s,i.Me?i.Me.next():Yc.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw el("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new bl(vl.FAILED_PRECONDITION,Wd);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return cm(t).get(Nd.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new bl(vl.FAILED_PRECONDITION,am)})},t.prototype.on=function(t){var e=new Nd(this.clientId,this.allowTabSynchronization,Date.now());return cm(t).put(Nd.key,e)},t.At=function(){return tp.At()},t.prototype.rn=function(t){var e=this,n=cm(t);return n.get(Nd.key).next(function(t){return e.cn(t)?(tl("IndexedDbPersistence","Releasing primary lease."),n.delete(Nd.key)):Xd.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(el("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return tl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return el("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){el("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function cm(t){return cp(t,Nd.store)}function lm(t){return cp(t,Gd.store)}function hm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fm=function(t,e){this.progress=t,this.En=e},dm=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=jf();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),s=kf();return i.forEach(function(t,e){e||(e=new Wl(t,Ph.min())),s=s.insert(t,e)}),s})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Tl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Th(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Tl(e)).next(function(t){var e=Nf();return t instanceof Ql&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,s=Nf();return this.Gt.getCollectionParents(t,i).next(function(o){return Xd.forEach(o,function(o){var a=function(t,e){return new yh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Sn(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.Sn=function(t,e,n){var r,i,s=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=af(u,r.get(c),s.localWriteTime);r=l instanceof Ql?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){jh(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Ff(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ff&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ql&&(c=c.insert(t,e))}),c})},t}(),pm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Ff(),i=Ff(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),mm=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ph.min())?this.On(t,e):this.Fn.bn(t,r).next(function(s){var o=i.kn(e,s);return(_h(e)||wh(e))&&i.Mn(e.limitType,o,r,n)?i.On(t,e):(Jc()<=$s.a.DEBUG&&tl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kh(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new If(Dh(t));return e.forEach(function(e,r){r instanceof Ql&&jh(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Jc()<=$s.a.DEBUG&&tl("QueryEngine","Using full collection scan to execute query:",kh(e)),this.Fn.getDocumentsMatchingQuery(t,e,Ph.min())},t}(),gm=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Tf(cl),this.qn=new Xp(function(t){return Jl(t)},th),this.Un=Ph.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new dm(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function ym(t,e,n,r){return new gm(t,e,n,r)}function vm(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Zc.d)(this,function(o){switch(o.label){case 0:return n=ol(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Tn.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new dm(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Ff(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.bn(t,o).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),s)]}})})}function bm(t,e){var n=ol(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Xd.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=e,o=n.docVersions.get(t);sl(null!==o),(!s||s.version.compareTo(o)<0)&&(s=i.applyToRemoteDocument(t,s,n))&&r.addEntry(s,n.commitVersion)})}),o.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function _m(t){var e=ol(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function wm(t,e){var n=ol(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return sl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.Ge.updateTargetData(t,c))}}});var a=kf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Em(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Ph.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Xd.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Kn.vn(t,a)})}).then(function(t){return n.Bn=i,t})}function Em(t,e,n,r,i){var s=Ff();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=kf();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Wl&&o.version.isEqual(Ph.min())?(e.removeEntry(n,u),s=s.insert(n,o)):null==a||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):tl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Sm(t,e){var n=ol(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function Tm(t,e){var n=ol(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Xd.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new fp(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function Om(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:r=ol(t),i=r.Bn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!rp(o=a.sent()))throw o;return tl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Cm(t,e,n){var r=ol(t),i=Ph.min(),s=Ff();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ol(t),i=r.qn.get(n);return void 0!==i?Xd.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Ch(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Ph.min(),n?s:Ff())}).next(function(t){return{documents:t,jn:s}})})}function Im(t,e){var n=ol(t),r=ol(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Am(t){var e=ol(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ol(t),i=kf(),s=gp(n),o=rm(e),a=IDBKeyRange.lowerBound(s,!0);return o.qt({index:Ud.readTimeIndex,range:a},function(t,e){var n=pp(r.D,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{En:i,readTime:yp(s)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function xm(t){return Object(Zc.b)(this,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){return[2,(e=ol(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=rm(t),n=Ph.min();return e.qt({index:Ud.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=yp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function km(t,e,n,r){return Object(Zc.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Zc.d)(this,function(p){switch(p.label){case 0:for(i=ol(t),s=Ff(),o=kf(),a=Rf(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Tm(i,function(t){return Ch(bh(wl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Em(t,f,o,Ph.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function jm(t,e,n){return void 0===n&&(n=Ff()),Object(Zc.b)(this,void 0,void 0,function(){var r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return[4,Tm(t,Ch(Sp(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ol(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=ed(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.He.saveNamedQuery(t,e);var o=r.withResumeToken(Ol.EMPTY_BYTE_STRING,s);return i.Bn=i.Bn.insert(o.targetId,o),i.Ge.updateTargetData(t,o).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Dm=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Xd.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:ed(n.createTime)}),Xd.resolve()},t.prototype.getNamedQuery=function(t,e){return Xd.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Sp(t.bundledQuery),readTime:ed(t.readTime)}}(e)),Xd.resolve()},t}(),Nm=function(){function t(){this.Xn=new If(Pm.Zn),this.ts=new If(Pm.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Pm(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Pm(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new Tl(new wl([])),r=new Pm(n,t),i=new Pm(n,t+1),s=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),s.push(t.key)}),s},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Tl(new wl([])),n=new Pm(e,t),r=new Pm(e,t+1),i=Ff();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Pm(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Pm=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Tl.comparator(t.key,e.key)||cl(t.hs,e.hs)},t.es=function(t,e){return cl(t.hs,e.hs)||Tl.comparator(t.key,e.key)},t}(),Rm=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new If(Pm.Zn)}return t.prototype.checkEmpty=function(t){return Xd.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var s=new lp(i,e,n,r);this.Tn.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.fs=this.fs.add(new Pm(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Xd.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Xd.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Xd.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Xd.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Xd.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Pm(e,0),i=new Pm(e,Number.POSITIVE_INFINITY),s=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);s.push(e)}),Xd.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new If(cl);return e.forEach(function(t){var e=new Pm(t,0),i=new Pm(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Xd.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Tl.isDocumentKey(i)||(i=i.child(""));var s=new Pm(new Tl(i),0),o=new If(cl);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.hs)),!0)},s),Xd.resolve(this._s(o))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;sl(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Xd.forEach(e.mutations,function(i){var s=new Pm(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Pm(e,0),r=this.fs.firstAfterOrEqual(n);return Xd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Xd.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Lm=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Tf(Tl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:o,readTime:n}),this.size+=o-s,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Xd.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=jf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Xd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Nf(),i=new Tl(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||u instanceof Ql&&jh(e,u)&&(r=r.insert(u.key,u))}return Xd.resolve(r)},t.prototype.ps=function(t,e){return Xd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Fm(this)},t.prototype.getSize=function(t){return Xd.resolve(this.size)},t}(),Fm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Zc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Xd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Jp),Mm=function(){function t(t){this.persistence=t,this.Es=new Xp(function(t){return Jl(t)},th),this.lastRemoteSnapshotVersion=Ph.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Nm,this.targetCount=0,this.As=Vp.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Xd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Xd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Xd.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Xd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Xd.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Vp(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Xd.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Xd.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Xd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.Es.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Xd.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Xd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Xd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Xd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Xd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Xd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Xd.resolve(n)},t.prototype.containsKey=function(t,e){return Xd.resolve(this.Is.containsKey(e))},t}(),Um=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Yc(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Mm(this),this.Gt=new Ip,this.ze=function(t,e){return new Lm(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new dp(e),this.He=new Dm(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Rm(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;tl("MemoryPersistence","Starting transaction:",t);var i=new Vm(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Xd.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Vm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Zc.c)(e,t),e}(Zd),qm=function(){function t(t){this.persistence=t,this.Ss=new Nm,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw il()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Xd.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Xd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Xd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xd.forEach(this.xs,function(r){var i=Tl.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Xd.or([function(){return Xd.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Bm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Hm(t,e){return"firestore_clients_"+t+"_"+e}function zm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Gm(t,e){return"firestore_targets_"+t+"_"+e}Bm.UNAUTHENTICATED=new Bm(null),Bm.GOOGLE_CREDENTIALS=new Bm("google-credentials-uid"),Bm.FIRST_PARTY=new Bm("first-party-uid");var $m=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new bl(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(el("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Km=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bl(i.error.code,i.error.message)),s?new t(e,i.state,r):(el("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Uf(),o=0;i&&o<r.activeTargetIds.length;++o)i=yl(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(el("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(el("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zm=function(){function t(){this.activeTargetIds=Uf()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ym=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Tf(cl),this.started=!1,this.Us=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Hm(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Zm),this.Ws=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Zc.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Hm(this.persistenceKey,r)))&&(s=Qm.$s(r,i))&&(this.qs=this.qs.insert(s.clientId,s));for(this.Js(),(o=this.storage.getItem(this.zs))&&(a=this.Ys(o))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Gm(this.persistenceKey,t));if(n){var r=Km.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Gm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return tl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){tl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){tl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(tl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void el("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(Zc.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Zc.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(s=this.Ys(n.newValue)))return[2,this.Xs(s)]}else if(n.key===this.Ks)(o=function(t){var e=Yc.o;if(null!=t)try{var n=JSON.parse(t);sl("number"==typeof n),e=n}catch(t){el("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Yc.o&&this.sequenceNumberHandler(o);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new $m(this.currentUser,t,e,n),i=zm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=zm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Gm(this.persistenceKey,t),i=new Km(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Qm.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return $m.$s(new Bm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Km.$s(r,e)},t.prototype.Ys=function(t){return Wm.$s(t)},t.prototype.hi=function(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(tl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),s=this.Zs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.mi(o,a).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Uf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Xm=function(){function t(){this.yi=new Zm,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Zm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Jm=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),tg=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){tl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){tl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),eg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ng=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),rg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Zc.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,s){var o=new Wc;o.listenOnce($c.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Gc.NO_ERROR:var e=o.getResponseJson();tl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gc.TIMEOUT:tl("Connection",'RPC "'+t+'" timed out'),s(new bl(vl.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:var n=o.getStatus();if(tl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vl).indexOf(e)>=0?e:vl.UNKNOWN}(r.status);s(new bl(a,r.message))}else s(new bl(vl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new bl(vl.UNAVAILABLE,"Connection failed."));break;default:il()}}finally{tl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Vc,i=Ha(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(s.initMessageHeaders,e),Object(Ks.l)()||Object(Ks.n)()||Object(Ks.j)()||Object(Ks.k)()||Object(Ks.o)()||Object(Ks.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");tl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new ng({vi:function(t){c?tl("Connection","Not sending because WebChannel is closed:",t):(u||(tl("Connection","Opening WebChannel transport."),a.open(),u=!0),tl("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Qc.EventType.OPEN,function(){c||tl("Connection","WebChannel transport opened.")}),h(a,Qc.EventType.CLOSE,function(){c||(c=!0,tl("Connection","WebChannel transport closed"),l.$i())}),h(a,Qc.EventType.ERROR,function(t){c||(c=!0,nl("Connection","WebChannel transport errored:",t),l.$i(new bl(vl.UNAVAILABLE,"The operation could not be completed")))}),h(a,Qc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];sl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){tl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=yf[t];if(void 0!==e)return Sf(e)}(i),o=r.message;void 0===s&&(s=vl.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new bl(s,o)),a.close()}else tl("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,Kc.STAT_EVENT,function(t){10===t.stat?tl("Connection","Detected buffering proxy"):11===t.stat&&tl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);tl("RestConnection","Sending: ",i,n);var s={};return this.Bi(s,r),this.qi(t,i,s,n).then(function(t){return tl("RestConnection","Received: ",t),t},function(e){throw nl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+eg[t]},t}());function ig(){return"undefined"!=typeof window?window:null}function sg(){return"undefined"!=typeof document?document:null}function og(t){return new Yf(t,!0)}var ag=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&tl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),ug=function(){function t(t,e,n,r,i,s){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ag(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===vl.RESOURCE_EXHAUSTED?(el(e.toString()),el("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===vl.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new bl(vl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(Zc.b)(t,void 0,void 0,function(){return Object(Zc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return tl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(tl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),cg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).D=i,o}return Object(Zc.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:il()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.V?(sl(void 0===e||"string"==typeof e),Ol.fromBase64String(e||"")):(sl(void 0===e||e instanceof Uint8Array),Ol.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?vl.UNKNOWN:Sf(t.code);return new bl(e,t.message||"")}(a);n=new zf(r,i,s,o||null)}else if("documentChange"in e){i=sd(t,(r=e.documentChange).document.name),s=ed(r.document.updateTime);var a=new Lh({mapValue:{fields:r.document.fields}}),u=(o=new Ql(i,s,a,{}),r.targetIds||[]);n=new Bf(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=sd(t,(r=e.documentDelete).document),s=r.readTime?ed(r.readTime):Ph.min(),a=new Wl(i,s),n=new Bf([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=sd(t,(r=e.documentRemove).document),n=new Bf([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return il();var c=e.filter;i=new wf(r=c.count||0),n=new Hf(s=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Ph.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ph.min():e.readTime?ed(e.readTime):Ph.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=ud(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=eh(r)?{documents:pd(t,r)}:{query:md(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Jf(t,e.resumeToken):e.snapshotVersion.compareTo(Ph.min())>0&&(n.readTime=Xf(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return il()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=ud(this.D),e.removeTarget=t,this.wr(e)},e}(ug),lg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).D=i,o.Rr=!1,o}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(sl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(sl(void 0!==e),t.map(function(t){return function(t,e){var n=ed(t.updateTime?t.updateTime:e);return n.isEqual(Ph.min())&&(n=ed(e)),new ef(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=ed(t.commitTime);return this.listener.Pr(n,e)}return sl(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=ud(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return fd(e.D,t)})};this.wr(n)},e}(ug),hg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Zc.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new bl(vl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===vl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===vl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),fg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(el(e),this.Fr=!1):tl("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),dg=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(Zc.b)(s,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return Eg(this)?(tl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Zc.b)(this,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return(e=ol(t)).Qr.add(4),[4,mg(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,pg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new fg(n,r)};function pg(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:if(!Eg(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mg(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gg(t,e){var n=ol(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),wg(n)?_g(n):Fg(n).ar()&&vg(n,e))}function yg(t,e){var n=ol(t),r=Fg(n);n.Ur.delete(e),r.ar()&&bg(n,e),0===n.Ur.size&&(r.ar()?r.lr():Eg(n)&&n.jr.set("Unknown"))}function vg(t,e){t.Gr.H(e.targetId),Fg(t).Ir(e)}function bg(t,e){t.Gr.H(e),Fg(t).Ar(e)}function _g(t){t.Gr=new $f({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Fg(t).start(),t.jr.Or()}function wg(t){return Eg(t)&&!Fg(t).cr()&&t.Ur.size>0}function Eg(t){return 0===ol(t).Qr.size}function Sg(t){t.Gr=void 0}function Tg(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){return t.Ur.forEach(function(e,n){vg(t,e)}),[2]})})}function Og(t,e){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(n){return Sg(t),wg(t)?(t.jr.Lr(e),_g(t)):t.jr.set("Unknown"),[2]})})}function Cg(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s;return Object(Zc.d)(this,function(o){switch(o.label){case 0:if(t.jr.set("Online"),!(e instanceof zf&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Zc.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ur.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ur.delete(s),t.Gr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),tl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ig(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Bf?t.Gr.st(e):e instanceof Hf?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Ph.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,_m(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Ol.EMPTY_BYTE_STRING,n.snapshotVersion)),bg(t,e);var r=new fp(n.target,e,1,n.sequenceNumber);vg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return tl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Ig(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Ig(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r=this;return Object(Zc.d)(this,function(i){switch(i.label){case 0:if(!rp(e))throw e;return t.Qr.add(1),[4,mg(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return _m(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Zc.b)(r,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return tl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,pg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ag(t,e){return e().catch(function(n){return Ig(t,n,e)})}function xg(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Zc.d)(this,function(o){switch(o.label){case 0:e=ol(t),n=Mg(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Eg(t)&&t.qr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Sm(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Mg(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Ig(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return kg(e)&&jg(e),[2]}})})}function kg(t){return Eg(t)&&!Mg(t).cr()&&t.qr.length>0}function jg(t){Mg(t).start()}function Dg(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){return Mg(t).Sr(),[2]})})}function Ng(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n,r;return Object(Zc.d)(this,function(i){for(e=Mg(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Pg(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return r=t.qr.shift(),i=hp.from(r,e,n),[4,Ag(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,xg(t)];case 2:return s.sent(),[2]}})})}function Rg(t,e){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(n){switch(n.label){case 0:return e&&Mg(t).br?[4,function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return Ef(r=e.code)&&r!==vl.ABORTED?(n=t.qr.shift(),Mg(t).hr(),[4,Ag(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,xg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return kg(t)&&jg(t),[2]}})})}function Lg(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return n=ol(t),e?(n.Qr.delete(2),[4,pg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,mg(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Fg(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=ol(t);return r.Cr(),new cg(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Tg.bind(null,t),Di:Og.bind(null,t),Tr:Cg.bind(null,t)}),t.Kr.push(function(n){return Object(Zc.b)(e,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),wg(t)?_g(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Sg(t),e.label=3;case 3:return[2]}})})})),t.zr}function Mg(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=ol(t);return r.Cr(),new lg(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Dg.bind(null,t),Di:Rg.bind(null,t),Vr:Ng.bind(null,t),Pr:Pg.bind(null,t)}),t.Kr.push(function(n){return Object(Zc.b)(e,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,xg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(tl("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Ug=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bl(vl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Vg(t,e){if(el("AsyncQueue",e+": "+t),rp(t))return new bl(vl.UNAVAILABLE,e+": "+t);throw t}var qg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Tl.comparator(e.key,n.key)}:function(t,e){return Tl.comparator(t.key,e.key)},this.keyedMap=Nf(),this.sortedSet=new Tf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Bg=function(){function t(){this.Jr=new Tf(Tl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):il():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Hg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,qg.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),zg=function(){this.Xr=void 0,this.listeners=[]},Gg=function(){this.queries=new Xp(function(t){return xh(t)},Ah),this.onlineState="Unknown",this.Zr=new Set};function $g(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Zc.d)(this,function(c){switch(c.label){case 0:if(n=ol(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new zg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=Vg(a,"Initialization of query '"+kh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&Zg(n),[2]}})})}function Kg(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Zc.d)(this,function(a){return n=ol(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Qg(t,e){for(var n=ol(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(o)&&(r=!0);a.Xr=o}}r&&Zg(n)}function Wg(t,e,n){var r=ol(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Zg(t){t.Zr.forEach(function(t){t.next()})}var Yg=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Hg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.io?this.oo(t)&&(this.so.next(t),s=!0):this.co(t,this.onlineState)&&(this.ao(t),s=!0),this.ro=t,s},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Hg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Xg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Jg=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return sd(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?hd(this.D,t.document,!1):new Wl(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return ed(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Jg(this.D),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Gn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ff()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return[4,km(this.localStore,new Jg(this.D),this.documents,this.lo.id)];case 1:t=s.sent(),e=this.wo(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,jm(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new fm(Object.assign({},this.progress),t))]}})})}}();var ty=function(t){this.key=t},ey=function(t){this.key=t},ny=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Ff(),this.mutatedKeys=Ff(),this.po=Dh(t),this.Eo=new qg(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Bg,i=e?e.Eo:this.Eo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=_h(this.query)&&i.size===this.query.limit?i.last():null,c=wh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof Ql?e:null;h&&(h=jh(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),_h(this.query)||wh(this.query))for(;o.size>this.query.limit;){var l=_h(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Eo:o,Ao:r,Mn:a,mutatedKeys:s}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var s=t.Ao.Yr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return il()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var o=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==s.length||u?{snapshot:new Hg(this.query,t.Eo,i,s,t.mutatedKeys,0===a,u,!1),Po:o}:{Po:o}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Bg,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Ff(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new ey(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new ty(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Ff();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Hg.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),ry=function(t,e,n){this.query=t,this.targetId=e,this.view=n},iy=function(t){this.key=t,this.Co=!1},sy=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.xo={},this.No=new Xp(function(t){return xh(t)},Ah),this.$o=new Map,this.Fo=new Set,this.Oo=new Tf(Tl.comparator),this.ko=new Map,this.Mo=new Nm,this.Lo={},this.Bo=new Map,this.qo=Vp.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function oy(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:return n=Ry(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,Tm(n.localStore,Ch(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ay(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&gg(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function ay(t,e,n,r){return Object(Zc.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Zc.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Zc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,Cm(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(_y(t,e.targetId,o.Po),o.snapshot)]}})})}(t,e,n,r)},[4,Cm(t.localStore,e,!0)];case 1:return i=l.sent(),s=new ny(e,i.jn),o=s.Io(i.documents),a=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),_y(t,n,u.Po),c=new ry(e,n,s),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function uy(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return n=ol(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Ah(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Om(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),yg(n.remoteStore,r.targetId),vy(n,r.targetId)}).catch(Gp)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return vy(n,r.targetId),[4,Om(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function cy(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:r=Ly(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ol(t),i=kl.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ff());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=uf(c,n.get(c.key));null!=l&&o.push(new ff(c.key,l,Mh(l.proto.mapValue),nf.exists(!0)))}return r.Tn.addMutationBatch(t,i,o,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Tf(cl)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Sy(r,i.changes)];case 3:return a.sent(),[4,xg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Vg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ly(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r;return Object(Zc.d)(this,function(i){switch(i.label){case 0:n=ol(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(sl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?sl(r.Co):t.removedDocuments.size>0&&(sl(r.Co),r.Co=!1))}),[4,Sy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Gp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function hy(t,e,n){var r=ol(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ol(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].eo(e)&&(r=!0)}),r&&Zg(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fy(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Zc.d)(this,function(c){switch(c.label){case 0:return(r=ol(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(s=i&&i.key)?(o=(o=new Tf(Tl.comparator)).insert(s,new Wl(s,Ph.min())),a=Ff().add(s),u=new Vf(Ph.min(),new Map,new If(cl),o,a),[4,ly(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(s),r.ko.delete(e),Ey(r),[3,4];case 2:return[4,Om(r.localStore,e,!1).then(function(){return vy(r,e,n)}).catch(Gp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function dy(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:n=ol(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,bm(n.localStore,e)];case 2:return i=s.sent(),yy(n,r,null),gy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Sy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Gp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function py(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:r=ol(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ol(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return sl(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),yy(r,e,n),gy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Sy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Gp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function my(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:Eg((n=ol(t)).remoteStore)||tl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ol(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Vg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function gy(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function yy(t,e,n){var r=ol(t),i=r.Lo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function vy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var s=i[r];t.No.delete(s),n&&t.xo.Ko(s,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||by(t,e)})}function by(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(yg(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Ey(t))}function _y(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ty?(t.Mo.addReference(s.key,e),wy(t,s)):s instanceof ey?(tl("SyncEngine","Document no longer in limbo: "+s.key),t.Mo.removeReference(s.key,e),t.Mo.containsKey(s.key)||by(t,s.key)):il()}}function wy(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(tl("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Ey(t))}function Ey(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Tl(wl.fromString(e)),r=t.qo.next();t.ko.set(r,new iy(n)),t.Oo=t.Oo.insert(n,r),gg(t.remoteStore,new fp(Ch(bh(n.path)),r,2,Yc.o))}}function Sy(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:return r=ol(t),i=[],s=[],o=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){o.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=pm.Nn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Zc.d)(this,function(l){switch(l.label){case 0:n=ol(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Xd.forEach(e,function(e){return Xd.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Xd.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!rp(r=l.sent()))throw r;return tl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Ty(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return(n=ol(t)).currentUser.isEqual(e)?[3,3]:(tl("SyncEngine","User change. New user:",e.toKey()),[4,vm(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new bl(vl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Sy(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Oy(t,e){var n=ol(t),r=n.ko.get(e);if(r&&r.Co)return Ff().add(r.key);var i=Ff(),s=n.$o.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.No.get(a[o]);i=i.unionWith(u.view.To)}return i}function Cy(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return[4,Cm((n=ol(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&_y(n,e.targetId,i.Po),i)]}})})}function Iy(t){return Object(Zc.b)(this,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){return[2,Am((e=ol(t)).localStore).then(function(t){return Sy(e,t)})]})})}function Ay(t,e,n,r){return Object(Zc.b)(this,void 0,void 0,function(){var i,s;return Object(Zc.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=ol(t),r=ol(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Xd.resolve(null)})})}((i=ol(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,xg(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(yy(i,e,r||null),gy(i,e),function(t,e){ol(ol(t).Tn).Xt(e)}(i.localStore,e)):il(),o.label=4;case 4:return[4,Sy(i,s)];case 5:return o.sent(),[3,7];case 6:tl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function xy(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Zc.d)(this,function(c){switch(c.label){case 0:return Ry(n=ol(t)),Ly(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ky(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Lg(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)gg(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return vy(n,e),Om(n.localStore,e,!0)}),yg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ky(n,a)];case 5:return c.sent(),function(t){var e=ol(t);e.ko.forEach(function(t,n){yg(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Tf(Tl.comparator)}(n),n.Uo=!1,[4,Lg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ky(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Zc.d)(this,function(m){switch(m.label){case 0:n=ol(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.$o.get(a=o[s]))&&0!==c.length?[4,Tm(n.localStore,Ch(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.No.get(h[l]),[4,Cy(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Im(n.localStore,a)];case 8:return p=m.sent(),[4,Tm(n.localStore,p)];case 9:return u=m.sent(),[4,ay(n,jy(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function jy(t){return vh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Dy(t){var e=ol(t);return ol(ol(e.localStore).persistence).gn()}function Ny(t,e,n,r){return Object(Zc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Zc.d)(this,function(a){switch(a.label){case 0:return(i=ol(t)).Uo?(tl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Am(i.localStore)];case 3:return s=a.sent(),o=Vf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Sy(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Om(i.localStore,e,!0)];case 6:return a.sent(),vy(i,e,r),[3,8];case 7:il(),a.label=8;case 8:return[2]}})})}function Py(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Zc.d)(this,function(f){switch(f.label){case 0:if(!(r=Ry(t)).Uo)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.$o.has(o=s[i])?(tl("SyncEngine","Adding an already active target "+o),[3,5]):[4,Im(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,Tm(r.localStore,a)];case 3:return u=f.sent(),[4,ay(r,jy(a),u.targetId,!1)];case 4:f.sent(),gg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Om(r.localStore,t,!1).then(function(){yg(r.remoteStore,t),vy(r,t)}).catch(Gp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ry(t){var e=ol(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ly.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fy.bind(null,e),e.xo.Tr=Qg.bind(null,e.eventManager),e.xo.Ko=Wg.bind(null,e.eventManager),e}function Ly(t){var e=ol(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=py.bind(null,e),e}var Fy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return this.D=og(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return ym(this.persistence,new mm,t.initialUser,this.D)},t.prototype.Go=function(t){return new Um(qm.Cs,this.D)},t.prototype.jo=function(t){return new Xm},t.prototype.terminate=function(){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),My=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Zc.c)(e,t),e.prototype.initialize=function(e){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,xm(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Ly(this.Jo.syncEngine)];case 4:return n.sent(),[4,xg(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return ym(this.persistence,new mm,t.initialUser,this.D)},e.prototype.zo=function(t){return new Qp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=hm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dp.withCacheSize(this.cacheSizeBytes):Dp.DEFAULT;return new um(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ig(),sg(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Xm},e}(Fy),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Zc.c)(e,t),e.prototype.initialize=function(e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r=this;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Ym?(this.sharedClientState.syncEngine={wi:Ay.bind(null,n),_i:Ny.bind(null,n),mi:Py.bind(null,n),gn:Dy.bind(null,n),di:Iy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(Zc.b)(r,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return[4,xy(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=ig();if(!Ym.At(e))throw new bl(vl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ym(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(My),Vy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n=this;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return hy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ty.bind(null,this.syncEngine),[4,Lg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Gg},t.prototype.createDatastore=function(t){var e=og(t.databaseInfo.databaseId),n=new rg(t.databaseInfo);return function(t,e,n){return new hg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return hy(o.syncEngine,t,0)},s=tg.At()?new tg:new Jm,new dg(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new sy(t,e,n,r,i,s);return o&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Zc.b)(this,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return e=ol(t),tl("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,mg(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),qy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),By=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Yd,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Xg(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(Zc.b)(this,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Zc.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new bl(vl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Zc.d)(this,function(u){switch(u.label){case 0:return n=ol(t),r=ud(n.D)+"/documents",i={documents:e.map(function(t){return id(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){sl(!!e.found);var n=sd(t,e.found.name),r=ed(e.found.updateTime),i=new Lh({mapValue:{fields:e.found.fields}});return new Ql(n,r,i,{})}(t,e):"missing"in e?function(t,e){sl(!!e.missing),sl(!!e.readTime);var n=sd(t,e.missing),r=ed(e.readTime);return new Wl(n,r)}(t,e):il()}(n.D,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());sl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Wl||t instanceof Ql?n.recordVersion(t):il()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new bf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Zc.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Tl.fromPath(n);e.mutations.push(new _f(r,e.precondition(r)))}),[4,function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return n=ol(t),r=ud(n.D)+"/documents",i={writes:e.map(function(t){return fd(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Ql)e=t.version;else{if(!(t instanceof Wl))throw il();e=Ph.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new bl(vl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?nf.updateTime(e):nf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ph.min()))throw new bl(vl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nf.updateTime(e)}return nf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Hy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new ag(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(Zc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Zc.d)(this,function(r){return t=new By(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!ml(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ef(e)}return!1},t}(),zy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Bm.UNAUTHENTICATED,this.clientId=ul.u(),this.credentialListener=function(){},this.receivedInitialUser=new Yd,this.credentials.setChangeListener(function(t){tl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new bl(vl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Yd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Zc.b)(t,void 0,void 0,function(){var t,n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Vg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Gy(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Zc.b)(i,void 0,void 0,function(){return Object(Zc.d)(this,function(t){switch(t.label){case 0:return[4,vm(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function $y(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ky(t)];case 1:return n=i.sent(),tl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Zc.b)(this,void 0,void 0,function(){var n,r;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return(n=ol(t)).asyncQueue.verifyOperationInProgress(),tl("RemoteStore","RemoteStore received new credentials"),r=Eg(n),n.Qr.add(3),[4,mg(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,pg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Ky(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tl("FirestoreClient","Using default OfflineComponentProvider"),[4,Gy(t,new Fy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Qy(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tl("FirestoreClient","Using default OnlineComponentProvider"),[4,$y(t,new Vy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Wy(t){return Ky(t).then(function(t){return t.persistence})}function Zy(t){return Ky(t).then(function(t){return t.localStore})}function Yy(t){return Qy(t).then(function(t){return t.remoteStore})}function Xy(t){return Qy(t).then(function(t){return t.syncEngine})}function Jy(t){return Object(Zc.b)(this,void 0,void 0,function(){var e,n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return[4,Qy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=oy.bind(null,e.syncEngine),n.onUnlisten=uy.bind(null,e.syncEngine),n)]}})})}function tv(t,e,n){var r=this;void 0===n&&(n={});var i=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(r,void 0,void 0,function(){var r;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new qy({next:function(s){e.enqueueAndForget(function(){return Kg(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new bl(vl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new bl(vl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Yg(bh(n.path),s,{includeMetadataChanges:!0,uo:!0});return $g(t,o)},[4,Jy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function ev(t,e,n){var r=this;void 0===n&&(n={});var i=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(r,void 0,void 0,function(){var r;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new qy({next:function(n){e.enqueueAndForget(function(){return Kg(t,o)}),n.fromCache&&"server"===r.source?i.reject(new bl(vl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Yg(n,s,{includeMetadataChanges:!0,uo:!0});return $g(t,o)},[4,Jy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var nv=function(t,e,n,r,i,s){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=s},rv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),iv=new Map,sv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ov=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Bm.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),av=function(){function t(t){var e=this;this.fc=null,this.currentUser=Bm.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(tl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sl("string"==typeof n.accessToken),new sv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return sl(null===t||"string"==typeof t),new Bm(t)},t}(),uv=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Bm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),cv=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new uv(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Bm.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function lv(t,e,n){if(!n)throw new bl(vl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bl(vl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fv(t,e,n,r){if(!0===e&&!0===r)throw new bl(vl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function dv(t){if(!Tl.isDocumentKey(t))throw new bl(vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function pv(t){if(Tl.isDocumentKey(t))throw new bl(vl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function mv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":il()}function gv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bl(vl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mv(t);throw new bl(vl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yv(t,e){if(e<=0)throw new bl(vl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var vv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new bl(vl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bl(vl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,fv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),bv=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,t instanceof rv?(this._databaseId=t,this._credentials=new ov):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new bl(vl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rv(t.options.projectId)}(t),this._credentials=new av(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new bl(vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new bl(vl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ov;switch(t.type){case"gapi":var e=t.client;return sl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cv(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new bl(vl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=iv.get(this))&&(tl("ComponentProvider","Removing Datastore"),iv.delete(this),t.terminate()),Promise.resolve();var t},t}(),_v=function(t){this._delegate=t},wv=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sv(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ev=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Sv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,bh(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wv(this.firestore,null,new Tl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ev);function Tv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof _v&&(t=t._delegate),lv("collection","path",e),t instanceof bv)return pv(n=wl.fromString.apply(wl,Object(Zc.f)([e],r))),new Sv(t,null,n);if(!(t instanceof wv||t instanceof Sv))throw new bl(vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pv(n=wl.fromString.apply(wl,Object(Zc.f)([t.path],r)).child(wl.fromString(e))),new Sv(t.firestore,null,n)}function Ov(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof _v&&(t=t._delegate),1===arguments.length&&(e=ul.u()),lv("doc","path",e),t instanceof bv)return dv(n=wl.fromString.apply(wl,Object(Zc.f)([e],r))),new wv(t,null,new Tl(n));if(!(t instanceof wv||t instanceof Sv))throw new bl(vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dv(n=t._path.child(wl.fromString.apply(wl,Object(Zc.f)([e],r)))),new wv(t.firestore,t instanceof Sv?t._converter:null,new Tl(n))}function Cv(t,e){return t instanceof _v&&(t=t._delegate),e instanceof _v&&(e=e._delegate),(t instanceof wv||t instanceof Sv)&&(e instanceof wv||e instanceof Sv)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Iv(t,e){return t instanceof _v&&(t=t._delegate),e instanceof _v&&(e=e._delegate),t instanceof Ev&&e instanceof Ev&&t.firestore===e.firestore&&Ah(t._query,e._query)&&t._converter===e._converter}var Av=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new ag(this,"async_queue_retry"),this.bc=function(){var e=sg();e&&tl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=sg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=sg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Zc.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!rp(t=n.sent()))throw t;return tl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,el("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Ug.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&il()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Zc.b)(this,void 0,void 0,function(){var t;return Object(Zc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function xv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Yd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var kv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Av,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Zc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Dv(this),this._firestoreClient.terminate()},e}(bv);function jv(t){return t._firestoreClient||Dv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Dv(t){var e=t._freezeSettings(),n=function(t,e,n){return new nv(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new zy(t._credentials,t._queue,n)}function Nv(t,e,n){var r=this,i=new Yd;return t.asyncQueue.enqueue(function(){return Object(Zc.b)(r,void 0,void 0,function(){var r;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Gy(t,n)];case 1:return s.sent(),[4,$y(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vl.FAILED_PRECONDITION||t.code===vl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Pv(t){if(t._initialized||t._terminated)throw new bl(vl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new bl(vl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Lv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ol.fromBase64String(e))}catch(e){throw new bl(vl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ol.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Fv=function(t){this._methodName=t},Mv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new bl(vl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bl(vl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return cl(this._lat,t._lat)||cl(this._long,t._long)},t}(),Uv=/^__.*__$/,Vv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ff(t,this.data,this.fieldMask,e,this.fieldTransforms):new hf(t,this.data,e,this.fieldTransforms)},t}(),qv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ff(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Bv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw il()}}var Hv=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return cb(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Bv(this.Fc)&&Uv.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),zv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||og(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Hv({Fc:t,methodName:e,Kc:n,path:Sl.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Gv(t){var e=t._freezeSettings(),n=og(t._databaseId);return new zv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $v(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Wc(s.merge||s.mergeFields?2:0,e,n,i);sb("Data must be an object, but it was:",o,r);var a,u,c=rb(r,o);if(s.merge)a=new Rh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=ob(e,f[h],n);if(!o.contains(d))throw new bl(vl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lb(l,d)||l.push(d)}a=new Rh(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new Vv(new Lh(c),a,u)}var Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Fv);function Qv(t,e,n){return new Hv({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype._toFieldTransform=function(t){return new tf(t.path,new $h)},e.prototype.isEqual=function(t){return t instanceof e},e}(Fv),Zv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Zc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Qv(this,t,!0),n=this.jc.map(function(t){return nb(t,e)}),r=new Kh(n);return new tf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fv),Yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Zc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Qv(this,t,!0),n=this.jc.map(function(t){return nb(t,e)}),r=new Wh(n);return new tf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Zc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Yh(t.D,qh(t.D,this.Gc));return new tf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Fv);function Jv(t,e,n,r){var i=t.Wc(1,e,n);sb("Data must be an object, but it was:",i,r);var s=[],o=new Fh;dl(r,function(t,r){var a=ub(e,t,n);r instanceof _v&&(r=r._delegate);var u=i.Bc(a);if(r instanceof Kv)s.push(a);else{var c=nb(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Rh(s);return new qv(o.v(),a,i.fieldTransforms)}function tb(t,e,n,r,i,s){var o=t.Wc(1,e,n),a=[ob(e,r,n)],u=[i];if(s.length%2!=0)throw new bl(vl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(ob(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Fh,f=a.length-1;f>=0;--f)if(!lb(l,a[f])){var d=a[f],p=u[f];p instanceof _v&&(p=p._delegate);var m=o.Bc(d);if(p instanceof Kv)l.push(d);else{var g=nb(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Rh(l);return new qv(h.v(),y,o.fieldTransforms)}function eb(t,e,n,r){return void 0===r&&(r=!1),nb(n,t.Wc(r?4:3,e))}function nb(t,e){if(t instanceof _v&&(t=t._delegate),ib(t))return sb("Unsupported field value:",e,t),rb(t,e);if(t instanceof Fv)return function(t,e){if(!Bv(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=nb(s[i],e.qc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof _v&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qh(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=kl.fromDate(t);return{timestampValue:Xf(e.D,n)}}if(t instanceof kl)return n=new kl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Xf(e.D,n)};if(t instanceof Mv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lv)return{bytesValue:Jf(e.D,t._byteString)};if(t instanceof wv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:nd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+mv(t))}(t,e)}function rb(t,e){var n={};return pl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(t,function(t,r){var i=nb(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ib(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof kl||t instanceof Mv||t instanceof Lv||t instanceof wv||t instanceof Fv)}function sb(t,e,n){if(!ib(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=mv(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function ob(t,e,n){if(e instanceof _v&&(e=e._delegate),e instanceof Rv)return e._internalPath;if("string"==typeof e)return ub(t,e);throw cb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ab=new RegExp("[~\\*/\\[\\]]");function ub(t,e,n){if(e.search(ab)>=0)throw cb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rv.bind.apply(Rv,Object(Zc.f)([void 0],e.split(".")))))._internalPath}catch(r){throw cb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cb(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new bl(vl.INVALID_ARGUMENT,(a+=". ")+t+u)}function lb(t,e){return t.some(function(t){return t.isEqual(e)})}var hb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new fb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(db("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(hb);function db(t,e){return"string"==typeof e?ub(t,e):e instanceof _v?e._delegate._internalPath:e._internalPath}var pb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mb=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Zc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new gb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(db("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(hb),gb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(mb),yb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new pb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new gb(n._firestore,n._userDataWriter,r.key,r,new pb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bl(vl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new gb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new pb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new pb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vb(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function vb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return il()}}function bb(t,e){return t instanceof mb&&e instanceof mb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof yb&&e instanceof yb&&t._firestore===e._firestore&&Iv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _b(t){if(wh(t)&&0===t.explicitOrderBy.length)throw new bl(vl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wb=function(){};function Eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Sb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Zc.c)(e,t),e.prototype._apply=function(t){var e=Gv(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new bl(vl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){kb(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(xb(r,t,l[c]));a={arrayValue:{values:u}}}else a=xb(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||kb(o,s),a=eb(n,"where",o,"in"===s||"not-in"===s);var h=nh.create(i,s,a);return function(t,e){if(e.g()){var n=Sh(t);if(null!==n&&!n.isEqual(e.field))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Eh(t);null!==r&&jb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new bl(vl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Ev(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(wb),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Zc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dh(e,n);return function(t,e){if(null===Eh(t)){var n=Sh(t);null!==n&&jb(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Ev(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(wb),Ob=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Zc.c)(e,t),e.prototype._apply=function(t){return new Ev(t.firestore,t._converter,Ih(t._query,this.Xc,this.Zc))},e}(wb),Cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Zc.c)(e,t),e.prototype._apply=function(t){var e=Ab(t,this.type,this.ta,this.ea);return new Ev(t.firestore,t._converter,function(t,e){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(wb),Ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Zc.c)(e,t),e.prototype._apply=function(t){var e=Ab(t,this.type,this.ta,this.ea);return new Ev(t.firestore,t._converter,function(t,e){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(wb);function Ab(t,e,n,r){if(n[0]instanceof _v&&(n[0]=n[0]._delegate),n[0]instanceof hb)return function(t,e,n,r,i){if(!r)throw new bl(vl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Oh(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(ql(e,r.key));else{var c=r.field(u.field);if(jl(c))throw new bl(vl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new hh(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Gv(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new bl(vl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Th(t)&&-1!==c.indexOf("/"))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wl.fromString(c));if(!Tl.isDocumentKey(l))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Tl(l);a.push(ql(e,h))}else{var f=eb(n,r,c);a.push(f)}}return new hh(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function xb(t,e,n){if(n instanceof _v&&(n=n._delegate),"string"==typeof n){if(""===n)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Th(e)&&-1!==n.indexOf("/"))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wl.fromString(n));if(!Tl.isDocumentKey(r))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ql(t,new Tl(r))}if(n instanceof wv)return ql(t,n._key);throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mv(n)+".")}function kb(t,e){if(!Array.isArray(t)||0===t.length)throw new bl(vl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new bl(vl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function jb(t,e,n){if(!n.isEqual(e))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Db=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Pl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Al(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw il()}},t.prototype.convertObject=function(t,e){var n=this,r={};return dl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Mv(Al(t.latitude),Al(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Dl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Nl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Il(t);return new kl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=wl.fromString(t);sl(Id(n));var r=new rv(n.get(1),n.get(3)),i=new Tl(n.popFirst(5));return r.isEqual(e)||el("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Nb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Pb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zc.c)(e,t),e.prototype.convertBytes=function(t){return new Lv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(Db),Rb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Gv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Lb(t,this._firestore),i=Nb(r._converter,e,n),s=$v(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,nf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Lb(t,this._firestore);return e instanceof _v&&(e=e._delegate),s="string"==typeof e||e instanceof Rv?tb(this._dataReader,"WriteBatch.update",o._key,e,n,r):Jv(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,nf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Lb(t,this._firestore);return this._mutations=this._mutations.concat(new bf(e._key,nf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new bl(vl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Lb(t,e){if(t instanceof _v&&(t=t._delegate),t.firestore!==e)throw new bl(vl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Fb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zc.c)(e,t),e.prototype.convertBytes=function(t){return new Lv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(Db);function Mb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=gv(t,wv);var s=gv(t.firestore,kv),o=Gv(s);return e instanceof _v&&(e=e._delegate),Vb(s,[("string"==typeof e||e instanceof Rv?tb(o,"updateDoc",t._key,e,n,r):Jv(o,"updateDoc",t._key,e)).toMutation(t._key,nf.exists(!0))])}function Ub(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof _v&&(t=t._delegate);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||xv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(xv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof wv)c=gv(t.firestore,kv),l=bh(t._key.path),u={next:function(e){i[a]&&i[a](qb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=gv(t,Ev);c=gv(d.firestore,kv),l=d._query;var p=new Fb(c);u={next:function(t){i[a]&&i[a](new yb(c,p,d,t))},error:i[a+1],complete:i[a+2]},_b(t._query)}return function(t,e,n,r){var i=this,s=new qy(r),o=new Yg(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(i,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return e=$g,[4,Jy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(i,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return e=Kg,[4,Jy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(jv(c),l,h,u)}function Vb(t,e){return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(n,void 0,void 0,function(){var n;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return n=cy,[4,Xy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(jv(t),e)}function qb(t,e,n){var r=n.docs.get(e._key),i=new Fb(t);return new mb(t,i,e._key,r,new pb(n.hasPendingWrites,n.fromCache),e._converter)}var Bb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Zc.c)(e,t),e.prototype.get=function(e){var n=this,r=Lb(e,this._firestore),i=new Fb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new mb(n._firestore,i,r._key,t._document,new pb(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Gv(t)}return t.prototype.get=function(t){var e=this,n=Lb(t,this._firestore),r=new Pb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return il();var i=t[0];if(i instanceof Wl)return new hb(e._firestore,r,n._key,null,n._converter);if(i instanceof Ql)return new hb(e._firestore,r,i.key,i,n._converter);throw il()})},t.prototype.set=function(t,e,n){var r=Lb(t,this._firestore),i=Nb(r._converter,e,n),s=$v(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Lb(t,this._firestore);return e instanceof _v&&(e=e._delegate),s="string"==typeof e||e instanceof Rv?tb(this._dataReader,"Transaction.update",o._key,e,n,r):Jv(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Lb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Hb(){if("undefined"==typeof Uint8Array)throw new bl(vl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zb(){if("undefined"==typeof atob)throw new bl(vl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.fromBase64String=function(t){return zb(),new e(Lv.fromBase64String(t))},e.fromUint8Array=function(t){return Hb(),new e(Lv.fromUint8Array(t))},e.prototype.toBase64=function(){return zb(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Hb(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(_v),$b=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Pv(t=gv(t,kv));var n=jv(t),r=t._freezeSettings(),i=new Vy;return Nv(n,i,new My(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Pv(t=gv(t,kv));var e=jv(t),n=t._freezeSettings(),r=new Vy;return Nv(e,r,new Uy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new bl(vl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Yd;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Zc.b)(e,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Zc.b)(this,void 0,void 0,function(){return Object(Zc.d)(this,function(e){switch(e.label){case 0:return tp.At()?[4,tp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(hm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Kb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof rv||(i.sa=e),i}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=gv(t,bv))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&nl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Zc.b)(e,void 0,void 0,function(){var e,n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return[4,Wy(t)];case 1:return e=r.sent(),[4,Yy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ol(t);return e.Qr.delete(0),pg(e)}(n))]}})})})}(jv(gv(this._delegate,kv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Zc.b)(e,void 0,void 0,function(){var e,n;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return[4,Wy(t)];case 1:return e=r.sent(),[4,Yy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Zc.b)(this,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return(e=ol(t)).Qr.add(0),[4,mg(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(jv(gv(this._delegate,kv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(e,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(r){switch(r.label){case 0:return e=my,[4,Xy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(jv(gv(this._delegate,kv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new qy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(n,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ol(t).Zr.add(e),e.next()},[4,Jy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(n,void 0,void 0,function(){var e;return Object(Zc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ol(t).Zr.delete(e)},[4,Jy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(jv(t=gv(t,kv)),xv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new bl(vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new a_(this,Tv(this._delegate,t))}catch(t){throw Jb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Xb(this,Ov(this._delegate,t))}catch(t){throw Jb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new i_(this,function(t,e){if(t=gv(t,bv),lv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bl(vl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ev(t,null,function(t){return new yh(wl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Jb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(n,void 0,void 0,function(){var n;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Qy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Hy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(jv(t),function(n){return e(new Bb(t,n))})}(this._delegate,function(n){return t(new Wb(e,n))})},e.prototype.batch=function(){var t=this;return jv(this._delegate),new Zb(new Rb(this._delegate,function(e){return Vb(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new bl(vl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new bl(vl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(_v),Qb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zc.c)(e,t),e.prototype.convertBytes=function(t){return new Gb(new Lv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xb.ia(e,this.firestore,null)},e}(Db),Wb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Qb(e),r}return Object(Zc.c)(e,t),e.prototype.get=function(t){var e=this,n=u_(t);return this._delegate.get(n).then(function(t){return new n_(e._firestore,new mb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=u_(t);return n?(hv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=u_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Zc.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=u_(t);return this._delegate.delete(e),this},e}(_v),Zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.set=function(t,e,n){var r=u_(t);return n?(hv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=u_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Zc.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=u_(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(_v),Yb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Zc.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new gb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new r_(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Qb(t),n),i.set(n,s)),s},e}(_v);Yb.oa=new WeakMap;var Xb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Qb(e),r}return Object(Zc.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new bl(vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new wv(n._delegate,r,new Tl(t)))},e.ia=function(t,n,r){return new e(n,new wv(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new a_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new a_(this.firestore,Tv(this._delegate,t))}catch(t){throw Jb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof _v&&(t=t._delegate),t instanceof wv&&Cv(this._delegate,t)},e.prototype.set=function(t,e){e=hv("DocumentReference.set",e);try{return function(t,e,n){t=gv(t,wv);var r=gv(t.firestore,kv),i=Nb(t._converter,e,n);return Vb(r,[$v(Gv(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,nf.none())])}(this._delegate,t,e)}catch(t){throw Jb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Mb(this._delegate,t):Mb.apply(void 0,Object(Zc.f)([this._delegate,t,e],n))}catch(t){throw Jb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Vb(gv((t=this._delegate).firestore,kv),[new bf(t._key,nf.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t_(e),i=e_(e,function(e){return new n_(t.firestore,new mb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Ub(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gv(t,wv);var e=gv(t.firestore,kv),n=jv(e),r=new Fb(e);return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(n,void 0,void 0,function(){var n;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i;return Object(Zc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=ol(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Ql?n.resolve(i):i instanceof Wl?n.resolve(null):n.reject(new bl(vl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Vg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new mb(e,r,t._key,n,new pb(n instanceof Ql&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=gv(t,wv);var e=gv(t.firestore,kv);return tv(jv(e),t._key,{source:"server"}).then(function(n){return qb(e,t,n)})}(this._delegate):function(t){t=gv(t,wv);var e=gv(t.firestore,kv);return tv(jv(e),t._key).then(function(n){return qb(e,t,n)})}(this._delegate)).then(function(t){return new n_(e.firestore,new mb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Yb.ra(this.firestore,t):null))},e}(_v);function Jb(t,e,n){return t.message=t.message.replace(e,n),t}function t_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!xv(r))return r}return{}}function e_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=xv(t[0])?t[0]:xv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var n_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return bb(this._delegate,t._delegate)},e}(_v),r_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(n_),i_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Qb(e),r}return Object(Zc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Eb(this._delegate,function(t,e,n){var r=e,i=db("where",t);return new Sb(i,r,n)}(t,n,r)))}catch(t){throw Jb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Eb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=db("orderBy",t);return new Tb(r,n)}(t,n)))}catch(t){throw Jb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Eb(this._delegate,function(t){return yv("limit",t),new Ob("limit",t,"F")}(t)))}catch(t){throw Jb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Eb(this._delegate,function(t){return yv("limitToLast",t),new Ob("limitToLast",t,"L")}(t)))}catch(t){throw Jb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Jb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Jb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Jb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Jb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Iv(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gv(t,Ev);var e=gv(t.firestore,kv),n=jv(e),r=new Fb(e);return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(Zc.b)(n,void 0,void 0,function(){var n;return Object(Zc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Zc.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Zc.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Cm(t,e,!0)];case 1:return a=u.sent(),r=new ny(e,a.jn),i=r.Io(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Vg(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new yb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=gv(t,Ev);var e=gv(t.firestore,kv),n=jv(e),r=new Fb(e);return ev(n,t._query,{source:"server"}).then(function(n){return new yb(e,r,t,n)})}(this._delegate):function(t){t=gv(t,Ev);var e=gv(t.firestore,kv),n=jv(e),r=new Fb(e);return _b(t._query),ev(n,t._query).then(function(n){return new yb(e,r,t,n)})}(this._delegate)).then(function(t){return new o_(e.firestore,new yb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t_(e),i=e_(e,function(e){return new o_(t.firestore,new yb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ub(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Yb.ra(this.firestore,t):null))},e}(_v),s_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new r_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(_v),o_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new i_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new r_(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new s_(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new r_(n._firestore,r))})},e.prototype.isEqual=function(t){return bb(this._delegate,t._delegate)},e}(_v),a_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Zc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xb(this.firestore,void 0===t?Ov(this._delegate):Ov(this._delegate,t))}catch(t){throw Jb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gv(t.firestore,kv),r=Ov(t),i=Nb(t._converter,e);return Vb(n,[$v(Gv(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,nf.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Xb(e.firestore,t)})},e.prototype.isEqual=function(t){return Cv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Yb.ra(this.firestore,t):null))},e}(i_);function u_(t){return t instanceof _v&&(t=t._delegate),gv(t,wv)}var c_,l_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Rv.bind.apply(Rv,Object(Zc.f)([void 0],e))))||this}return Object(Zc.c)(e,t),e.documentId=function(){return new e(Sl.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof _v&&(t=t._delegate),t instanceof Rv&&this._delegate._internalPath.isEqual(t._internalPath)},e}(_v),h_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zc.c)(e,t),e.serverTimestamp=function(){var t=new Wv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Kv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Xv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(_v),f_=n("/6Yf"),d_={Firestore:Kb,GeoPoint:Mv,Timestamp:kl,Blob:Gb,Transaction:Wb,WriteBatch:Zb,DocumentReference:Xb,DocumentSnapshot:n_,Query:i_,QueryDocumentSnapshot:r_,QuerySnapshot:o_,CollectionReference:a_,FieldPath:l_,FieldValue:h_,setLogLevel:function(t){Xc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new f_.a("firestore",function(t){return function(t,e){return new Kb(t,new kv(t,e),new $b)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},d_)))})(c_=Gs.a),c_.registerVersion("@firebase/firestore","2.2.1");var p_=n("VRyK"),m_=n("qgXg"),g_=n("Ylt2");class y_ extends It.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new v_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new At.a;if(this.isStopped||this.hasError?s=xe.a.EMPTY:(this.observers.push(t),s=new g_.a(this,t)),r&&t.add(t=new Bs.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||m_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class v_{constructor(t,e){this.time=t,this.value=e}}function b_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new y_(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function __(t,e){return e?Zt(()=>t,e):Zt(()=>t)}var w_=n("tf+s");const E_=new r.r("angularfire2.auth.use-emulator"),S_=new r.r("angularfire2.auth.settings"),T_=new r.r("angularfire2.auth.tenant-id"),O_=new r.r("angularfire2.auth.langugage-code"),C_=new r.r("angularfire2.auth.use-device-language"),I_=new r.r("angularfire.auth.persistence");let A_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Hs.d(i),f=Object(Hs.h)(h),d=new It.a,p=Object(Ct.a)(void 0).pipe(Object(Bs.b)(h.outsideAngular),Zt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Qt.a)(()=>Object(Hs.g)(t,i,e)),Object(Qt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Hs.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),b_({bufferSize:1,refCount:!1}));if(z(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ct.a)(null);else{p.pipe(Ce()).subscribe();const t=p.pipe(Zt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,b_({bufferSize:1,refCount:!1})),e=t=>new Lt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Zt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Zt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(__(n),Object(w_.a)(h.outsideAngular),Object(Bs.b)(h.insideAngular)),this.user=t.pipe(__(r),Object(w_.a)(h.outsideAngular),Object(Bs.b)(h.insideAngular)),this.idToken=this.user.pipe(Zt(t=>t?Object(Ot.a)(t.getIdToken()):Object(Ct.a)(null))),this.idTokenResult=this.user.pipe(Zt(t=>t?Object(Ot.a)(t.getIdTokenResult()):Object(Ct.a)(null))),this.credential=Object(p_.a)(t,d,this.authState.pipe(ae(t=>!t))).pipe(Object(Qt.a)(t=>(null==t?void 0:t.user)?t:null),Object(w_.a)(h.outsideAngular),Object(Bs.b)(h.insideAngular))}return Object(Hs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Hs.c),r.Ub(Hs.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(E_,8),r.Ub(S_,8),r.Ub(T_,8),r.Ub(O_,8),r.Ub(C_,8),r.Ub(I_,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Hs.c),Object(r.Ub)(Hs.b,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(E_,8),Object(r.Ub)(S_,8),Object(r.Ub)(T_,8),Object(r.Ub)(O_,8),Object(r.Ub)(C_,8),Object(r.Ub)(I_,8))},token:t,providedIn:"any"}),t})();function x_(t,e){return function(t,e=Ls.a){return new Lt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function k_(t,e){return x_(t,e).pipe(Object(Qt.a)(t=>({payload:t,type:"query"})))}function j_(t,e){return k_(t,e).pipe(re(void 0),Fs(),Object(Qt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function D_(t,e,n){return j_(t,n).pipe(ie((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return N_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return N_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return N_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Vs(void 0,void 0)),Object(Qt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function N_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function P_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Hs.e)(A_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class R_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=j_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Qt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(re(void 0),Fs(),ae(([t,e])=>e.length>0||!t),Object(Qt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ie((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=P_(t);return D_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return k_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Bs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new L_(this.ref.doc(t),this.afs)}}class L_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=B_(n,e);return new R_(r,i,this.afs)}snapshotChanges(){return x_(this.ref,this.afs.schedulers.outsideAngular).pipe(re(void 0),Fs(),Object(Qt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Qt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ot.a)(this.ref.get(t)).pipe(Object(Bs.b)(this.afs.schedulers.insideAngular))}}class F_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?j_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ae(t=>t.length>0),this.afs.keepUnstableUntilFirst):j_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ie((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=P_(t);return D_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return k_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Bs.b)(this.afs.schedulers.insideAngular))}}const M_=new r.r("angularfire2.enableFirestorePersistence"),U_=new r.r("angularfire2.firestore.persistenceSettings"),V_=new r.r("angularfire2.firestore.settings"),q_=new r.r("angularfire2.firestore.use-emulator");function B_(t,e=(t=>t)){return{query:e(t),ref:t}}let H_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Hs.d(s),this.keepUnstableUntilFirst=Object(Hs.h)(this.schedulers);const c=Object(Hs.g)(t,s,e);!zs.a.auth&&u&&Object(Hs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Hs.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!z(i)){const e=()=>{try{return Object(Ot.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(c_){return"undefined"!=typeof console&&console.warn(c_),Object(Ct.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ct.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=B_(n,e),s=this.schedulers.ngZone.run(()=>r);return new R_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new F_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new L_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Hs.c),r.Ub(Hs.b,8),r.Ub(M_,8),r.Ub(V_,8),r.Ub(r.C),r.Ub(r.A),r.Ub(U_,8),r.Ub(q_,8),r.Ub(E_,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Hs.c),Object(r.Ub)(Hs.b,8),Object(r.Ub)(M_,8),Object(r.Ub)(V_,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(U_,8),Object(r.Ub)(q_,8),Object(r.Ub)(E_,8))},token:t,providedIn:"any"}),t})(),z_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:M_,useValue:!0},{provide:U_,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[H_]}),t})(),G_=(()=>{class t{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,e){return this.firestore.collection("empleados").doc(t).update(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(H_))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class $_{}const K_="*";function Q_(t,e=null){return{type:4,styles:e,timings:t}}function W_(t,e=null){return{type:2,steps:t,options:e}}function Z_(t){return{type:6,styles:t,offset:null}}function Y_(t,e,n){return{type:0,name:t,styles:e,options:n}}function X_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function J_(t){Promise.resolve(null).then(t)}class tw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ew{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?J_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const nw=["toast-component",""];function rw(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Xb("click",function(){return r.fc(t),r.Zb().remove()}),r.Qb(1,"span",6),r.mc(2,"\xd7"),r.Pb(),r.Pb()}}function iw(t,e){if(1&t&&(r.Ob(0),r.mc(1),r.Nb()),2&t){const t=r.Zb(2);r.Ab(1),r.oc("[",t.duplicatesCount+1,"]")}}function sw(t,e){if(1&t&&(r.Qb(0,"div"),r.mc(1),r.lc(2,iw,2,1,"ng-container",4),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.oc(" ",t.title," "),r.Ab(1),r.cc("ngIf",t.duplicatesCount)}}function ow(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.cc("innerHTML",t.message,r.gc)}}function aw(t,e){if(1&t&&(r.Qb(0,"div",8),r.mc(1),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.oc(" ",t.message," ")}}function uw(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.jc("width",t.width+"%")}}function cw(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Xb("click",function(){return r.fc(t),r.Zb().remove()}),r.Qb(1,"span",6),r.mc(2,"\xd7"),r.Pb(),r.Pb()}}function lw(t,e){if(1&t&&(r.Ob(0),r.mc(1),r.Nb()),2&t){const t=r.Zb(2);r.Ab(1),r.oc("[",t.duplicatesCount+1,"]")}}function hw(t,e){if(1&t&&(r.Qb(0,"div"),r.mc(1),r.lc(2,lw,2,1,"ng-container",4),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.oc(" ",t.title," "),r.Ab(1),r.cc("ngIf",t.duplicatesCount)}}function fw(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.cc("innerHTML",t.message,r.gc)}}function dw(t,e){if(1&t&&(r.Qb(0,"div",8),r.mc(1),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.oc(" ",t.message," ")}}function pw(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.jc("width",t.width+"%")}}class mw{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new It.a,this._onAction=new It.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const gw={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},yw=new r.r("ToastConfig");class vw{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class bw extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _w=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(o))},token:t,providedIn:"root"}),t})();class ww{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Ew=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new bw(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ww(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(_w),r.Ub(r.j),r.Ub(r.g),r.Ub(o))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(_w),Object(r.Ub)(r.j),Object(r.Ub)(r.g),Object(r.Ub)(o))},token:t,providedIn:"root"}),t})();class Sw{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new It.a,this._activate=new It.a,this._manualClose=new It.a,this._resetTimeout=new It.a,this._countDuplicate=new It.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Tw{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===mw?this._toastPackage:this._parentInjector.get(t,e,n)}}let Ow=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.I.HTML,e));const c=new Sw(a),l=new mw(this.index,i,u,n,t,c),h=new Tw(l,this._injector),f=new vw(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(yw),r.Ub(Ew),r.Ub(r.s),r.Ub(bt),r.Ub(r.A))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(yw),Object(r.Ub)(Ew),Object(r.Ub)(r.o),Object(r.Ub)(bt),Object(r.Ub)(r.A))},token:t,providedIn:"root"}),t})(),Cw=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}var e;return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ow),r.Lb(mw),r.Lb(r.A))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.kc("@flyInOut",e.state),r.Cb(e.toastClasses),r.jc("display",e.displayStyle))},attrs:nw,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.lc(0,rw,3,0,"button",0),r.lc(1,sw,3,5,"div",1),r.lc(2,ow,1,3,"div",2),r.lc(3,aw,2,4,"div",3),r.lc(4,uw,2,2,"div",4)),2&t&&(r.cc("ngIf",e.options.closeButton),r.Ab(1),r.cc("ngIf",e.title),r.Ab(1),r.cc("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.cc("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.cc("ngIf",e.options.progressBar))},directives:[U],encapsulation:2,data:{animation:[(e=[Y_("inactive",Z_({opacity:0})),Y_("active",Z_({opacity:1})),Y_("removed",Z_({opacity:0})),X_("inactive => active",Q_("{{ easeTime }}ms {{ easing }}")),X_("active => removed",Q_("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:e,options:{}})]}}),t})();const Iw=Object.assign(Object.assign({},gw),{toastComponent:Cw});let Aw=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:yw,useValue:{default:Iw,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[H]]}),t})(),xw=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ow),r.Lb(mw),r.Lb(r.g))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Cb(e.toastClasses),r.jc("display",e.displayStyle))},attrs:nw,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.lc(0,cw,3,0,"button",0),r.lc(1,hw,3,5,"div",1),r.lc(2,fw,1,3,"div",2),r.lc(3,dw,2,4,"div",3),r.lc(4,pw,2,2,"div",4)),2&t&&(r.cc("ngIf",e.options.closeButton),r.Ab(1),r.cc("ngIf",e.title),r.Ab(1),r.cc("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.cc("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.cc("ngIf",e.options.progressBar))},directives:[U],encapsulation:2}),t})();function kw(t,e){1&t&&(r.Qb(0,"div",16),r.Qb(1,"span",17),r.mc(2,"Loading..."),r.Pb(),r.Pb())}function jw(t,e){1&t&&(r.Qb(0,"span"),r.mc(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),r.Pb())}Object.assign(Object.assign({},gw),{toastComponent:xw});let Dw=(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this._empleadoService=e,this.router=n,this.toastr=r,this.aRoute=i,this.submitted=!1,this.loading=!1,this.titulo="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",Fi.required],apellido:["",Fi.required],documento:["",Fi.required],salario:["",Fi.required]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.esEditar()}agregarEditarEmpleado(){this.submitted=!0,this.createEmpleado.invalid||(null===this.id?this.agregarEmpleado():this.editarEmpleado(this.id))}agregarEmpleado(){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("Empleado registrado con \xe9xito!","Empleado Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])}).catch(t=>{console.log(t),this.loading=!1})}editarEmpleado(t){const e={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.actualizarEmpleado(t,e).then(()=>{this.loading=!1,this.toastr.info("El empleado fue modificado con exito!","Empleado Modificado",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}esEditar(){null!==this.id&&(this.loading=!0,this.titulo="Editar Empleado",this._empleadoService.getEmpleado(this.id).subscribe(t=>{this.loading=!1,console.log(t.payload.data().nombre),this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Rs),r.Lb(G_),r.Lb(ri),r.Lb(Ow),r.Lb(Mn))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-create-empleado"]],decls:22,vars:4,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","documento","placeholder","Documento",1,"form-control","mt-3","form-control-lg"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","mt-3","form-control-lg"],[1,"mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","mr-3","btn-lg"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"visually-hidden"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h3"),r.mc(6),r.lc(7,kw,3,0,"div",5),r.Pb(),r.lc(8,jw,2,0,"span",6),r.Qb(9,"form",7),r.Xb("ngSubmit",function(){return e.agregarEditarEmpleado()}),r.Qb(10,"div",1),r.Qb(11,"div",8),r.Mb(12,"input",9),r.Pb(),r.Qb(13,"div",8),r.Mb(14,"input",10),r.Pb(),r.Pb(),r.Mb(15,"input",11),r.Mb(16,"input",12),r.Qb(17,"div",13),r.Qb(18,"button",14),r.mc(19,"Volver"),r.Pb(),r.Qb(20,"button",15),r.mc(21,"Agregar"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(6),r.oc("",e.titulo," "),r.Ab(1),r.cc("ngIf",e.loading),r.Ab(1),r.cc("ngIf",e.submitted&&e.createEmpleado.invalid),r.Ab(1),r.cc("formGroup",e.createEmpleado))},directives:[U,Ts,rs,ks,ji,ns,Ds,Cs,ii],styles:[""]}),t})();function Nw(t,e){1&t&&(r.Qb(0,"h5",7),r.mc(1,"No hay datos para mostrar"),r.Pb())}const Pw=function(t){return["/editEmpleado/",t]};function Rw(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td"),r.mc(2),r.Pb(),r.Qb(3,"td"),r.mc(4),r.Pb(),r.Qb(5,"td"),r.mc(6),r.Pb(),r.Qb(7,"td"),r.mc(8),r.ac(9,"currency"),r.Pb(),r.Qb(10,"td"),r.Mb(11,"i",11),r.Qb(12,"i",12),r.Xb("click",function(){r.fc(t);const n=e.$implicit;return r.Zb(2).eliminarEmpleado(n.id)}),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.nc(t.nombre),r.Ab(2),r.nc(t.apellido),r.Ab(2),r.nc(t.documento),r.Ab(2),r.nc(r.bc(9,5,t.salario)),r.Ab(3),r.cc("routerLink",r.dc(7,Pw,t.id))}}function Lw(t,e){if(1&t&&(r.Qb(0,"table",8),r.Qb(1,"thead"),r.Qb(2,"tr"),r.Qb(3,"th",9),r.mc(4,"Nombre"),r.Pb(),r.Qb(5,"th",9),r.mc(6,"Apellido"),r.Pb(),r.Qb(7,"th",9),r.mc(8,"Documento"),r.Pb(),r.Qb(9,"th",9),r.mc(10,"Salario"),r.Pb(),r.Mb(11,"th"),r.Pb(),r.Pb(),r.Qb(12,"tbody"),r.lc(13,Rw,13,9,"tr",10),r.Pb(),r.Pb()),2&t){const t=r.Zb();r.Ab(13),r.cc("ngForOf",t.empleados)}}const Fw=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class t{constructor(t,e){this._empleadoService=t,this.toastr=e,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this._empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(t=>{this.empleados.push(Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(t){this._empleadoService.eliminarEmpleado(t).then(()=>{console.log("empleado eliminado co exito"),this.toastr.error("Empleado eliminado con exito!","Empleado Eliminado",{positionClass:"toast-bottom-right"})}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(G_),r.Lb(Ow))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/crear-empleado",1,"btn","btn-dark","btn-lg","float-end"],["style","margin-top: 30px;",4,"ngIf"],["class","table mt-5 table-striped",4,"ngIf"],[2,"margin-top","30px"],[1,"table","mt-5","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"span",3),r.mc(4,"Listado de Empleados"),r.Pb(),r.Qb(5,"button",4),r.mc(6,"Agregar"),r.Pb(),r.lc(7,Nw,2,0,"h5",5),r.lc(8,Lw,14,1,"table",6),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(7),r.cc("ngIf",0==e.empleados.length),r.Ab(1),r.cc("ngIf",e.empleados.length>0))},directives:[ii,U,F],pipes:[B],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"crear-empleado",component:Dw},{path:"editEmpleado/:id",component:Dw},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let Mw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[gi.forRoot(Fw)],gi]}),t})();function Uw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vw(t){switch(t.length){case 0:return new tw;case 1:return t[0];default:return new ew(t)}}function qw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case K_:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Bw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Hw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Hw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Hw(n,"destroy",t)))}}function Hw(t,e,n){const r=n.totalTime,i=zw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function zw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Gw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function $w(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Kw=(t,e)=>!1,Qw=(t,e)=>!1,Ww=(t,e,n)=>[];const Zw=Uw();(Zw||"undefined"!=typeof Element)&&(Kw=(t,e)=>t.contains(e),Qw=(()=>{if(Zw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Qw}})(),Ww=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Yw=null,Xw=!1;function Jw(t){Yw||(Yw=("undefined"!=typeof document?document.body:null)||{},Xw=!!Yw.style&&"WebkitAppearance"in Yw.style);let e=!0;return Yw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Yw.style,!e&&Xw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Yw.style),e}const tE=Qw,eE=Kw,nE=Ww;function rE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let iE=(()=>{class t{validateStyleProperty(t){return Jw(t)}matchesElement(t,e){return tE(t,e)}containsElement(t,e){return eE(t,e)}query(t,e,n){return nE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new tw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),sE=(()=>{class t{}return t.NOOP=new iE,t})();const oE="ng-enter",aE="ng-leave",uE="ng-trigger",cE=".ng-trigger",lE="ng-animating",hE=".ng-animating";function fE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dE(parseFloat(e[1]),e[2])}function dE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=dE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=dE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function mE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function gE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else mE(t,n);return n}function yE(t,e,n){return n?e+":"+n+";":""}function vE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=yE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=yE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function bE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=IE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Uw()&&vE(t))}function _E(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=IE(e);t.style[n]=""}),Uw()&&vE(t))}function wE(t){return Array.isArray(t)?1==t.length?t[0]:W_(t):t}const EE=new RegExp("{{\\s*(.+?)\\s*}}","g");function SE(t){let e=[];if("string"==typeof t){let n;for(;n=EE.exec(t);)e.push(n[1]);EE.lastIndex=0}return e}function TE(t,e,n){const r=t.toString(),i=r.replace(EE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function OE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const CE=/-+([a-z0-9])/g;function IE(t){return t.replace(CE,(...t)=>t[1].toUpperCase())}function AE(t,e){return 0===t||0===e}function xE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=jE(t,e)})}}return e}function kE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function jE(t,e){return window.getComputedStyle(t)[e]}const DE="*";function NE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(LE(i,o)),"<"!=s[0]||i==DE&&o==DE||e.push(LE(o,i))}(t,n,e)):n.push(t),n}const PE=new Set(["true","1"]),RE=new Set(["false","0"]);function LE(t,e){const n=PE.has(t)||RE.has(t),r=PE.has(e)||RE.has(e);return(i,s)=>{let o=t==DE||t==i,a=e==DE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?PE.has(t):RE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?PE.has(e):RE.has(e)),o&&a}}const FE=new RegExp("s*:selfs*,?","g");function ME(t,e,n){return new UE(t).build(e,n)}class UE{constructor(t){this._driver=t}build(t,e){const n=new VE(e);return this._resetContextStyleTimingState(n),kE(this,wE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(qE(t)){const e=t;Object.keys(e).forEach(t=>{SE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=OE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=kE(this,wE(t.animation),e);return{type:1,matchers:NE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:BE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>kE(this,t,e)),options:BE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=kE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:BE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return HE(pE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=HE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||pE(r,e),HE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Z_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Z_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==K_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(qE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=SE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(qE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(qE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:kE(this,wE(t.animation),e),options:BE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:BE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:BE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(FE,"")),[t=t.replace(/@\*/g,cE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,hE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Gw(e.collectedStyles,e.currentQuerySelector,{});const o=kE(this,wE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:BE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pE(t.timings,e.errors,!0);return{type:12,animation:kE(this,wE(t.animation),e),timings:n,options:null}}}class VE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qE(t){return!Array.isArray(t)&&"object"==typeof t}function BE(t){var e;return t?(t=mE(t)).params&&(t.params=(e=t.params)?mE(e):null):t={},t}function HE(t,e,n){return{duration:t,delay:e,easing:n}}function zE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class GE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $E=new RegExp(":enter","g"),KE=new RegExp(":leave","g");function QE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new WE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class WE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new GE;const l=new YE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),kE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[zE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?fE(n.duration):null,s=null!=n.delay?fE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),kE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ZE);const t=fE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>kE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?fE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),kE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return pE(e.params?TE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?fE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ZE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),kE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;kE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ZE={};class YE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new XE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fE(n.duration)),null!=n.delay&&(r.delay=fE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=TE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new YE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ZE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new JE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace($E,"."+this._enterClassName)).replace(KE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class XE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new XE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||K_,this._currentKeyframe[t]=K_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=K_})):gE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=TE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:K_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=gE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==K_&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?OE(t.values()):[],s=e.size?OE(e.values()):[];if(n){const t=r[0],e=mE(t);t.offset=0,e.offset=1,r=[t,e]}return zE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class JE extends XE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=gE(t[0],!1);a.offset=0,i.push(a);const u=gE(t[0],!1);u.offset=tS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=gE(t[r],!1);o.offset=tS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return zE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function tS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class eS{}class nS extends eS{normalizePropertyName(t,e){return IE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(rS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const rS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iS(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const sS={};class oS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||sS,f=this.buildStyles(n,o&&o.params||sS,l),d=a&&a.params||sS,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:QE(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return iS(e,this._triggerName,n,r,v,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Gw(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Gw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=OE(m.values());return iS(e,this._triggerName,n,r,v,f,p,_,E,g,y,w)}}class aS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=mE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=TE(s,r,e)),n[t]=s})}}),n}}class uS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new aS(t.style,t.options&&t.options.params||{})}),cS(this.states,"true","1"),cS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new oS(t,e,this.states))}),this.fallbackTransition=new oS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function cS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const lS=new GE;class hS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ME(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=qw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=QE(this._driver,e,i,oE,aE,{},{},n,lS,r),s.forEach(t=>{const e=Gw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,K_)})});const a=Vw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=zw(e,"","","");return Bw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fS="ng-animate-queued",dS="ng-animate-disabled",pS=".ng-animate-disabled",mS=[],gS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class vS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=mE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const bS="void",_S=new vS(bS);class wS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,AS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Gw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Gw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(AS(t,uE),AS(t,"ng-trigger-"+e),a[e]=_S),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new SS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(AS(t,uE),AS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new vS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=_S),u.value!==bS&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{_E(t,n),bE(t,r)})}return}const c=Gw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(AS(t,fS),s.onStart(()=>{xS(t,fS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,cE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,bS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Vw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||_S,a=new vS(bS),u=new SS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==gS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){AS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=zw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Bw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ES{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new wS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(TS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!TS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),AS(t,dS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xS(t,dS))}removeNode(t,e,n,r){if(TS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return TS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,cE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,hE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=gS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,pS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,pS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)AS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Vw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new GE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=IS(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=oE+p++;d.set(e,n),t.forEach(t=>AS(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=IS(h,Array.from(g));b.forEach((t,e)=>{const n=aE+p++;v.set(e,n),t.forEach(t=>AS(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>xS(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>xS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>_E(i,p.fromStyles)),e.onDestroy(()=>bE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>_E(i,p.fromStyles)),e.onDestroy(()=>bE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Gw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Gw(E,e,[]).push(t),t.destroy()})});const T=m.filter(t=>DS(t,a,u)),O=new Map;CS(O,this.driver,y,u,K_).forEach(t=>{DS(t,a,u)&&T.push(t)});const C=new Map;f.forEach((t,e)=>{CS(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=O.get(t),n=C.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>bE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,O);if(s.setRealPlayer(n),t===x)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Vw(e)),r.push(s)}}else _E(e,o.fromStyles),s.onDestroy(()=>bE(e,o.toStyles)),A.push(s),c.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Vw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(xS(t,aE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,hE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?kS(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==bS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Gw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}_E(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new tw(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return jS(t,e),e}((n.get(h)||mS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=qw(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new SS(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Gw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>AS(t,lE));const f=Vw(h);return f.onDestroy(()=>{c.forEach(t=>xS(t,lE)),bE(a,e.toStyles)}),l.forEach(t=>{Gw(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new tw(t.duration,t.delay)}}class SS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new tw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function TS(t){return t&&1===t.nodeType}function OS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function CS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(OS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=yS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>OS(t,s[a++])),o}function IS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function AS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function xS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function kS(t,e,n){Vw(n).onDone(()=>t.processLeaveNode(e))}function jS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ew?jS(r.players,e):e.push(r)}}function DS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class NS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ES(t,e,n),this._timelineEngine=new hS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ME(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new uS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=$w(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=$w(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function PS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=LS(e[0]),e.length>1&&(r=LS(e[e.length-1]))):e&&(n=LS(e)),n||r?new RS(t,n,r):null}let RS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&bE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bE(this._element,this._initialStyles),this._endStyles&&(bE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(_E(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_E(this._element,this._endStyles),this._endStyles=null),bE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function LS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];FS(i)&&(e=e||{},e[i]=t[i])}return e}function FS(t){return"display"===t||"position"===t}const MS="animation",US="animationend";class VS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=$S(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),GS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),zS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qS(this._element,this._name,"paused")}resume(){qS(this._element,this._name,"running")}setPosition(t){const e=BS(this._element,this._name);this._position=t*this._duration,GS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),zS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=$S(t,"").split(","),r=HS(n,e);r>=0&&(n.splice(r,1),GS(t,"",n.join(",")))}(this._element,this._name))}}function qS(t,e,n){GS(t,"PlayState",n,BS(t,e))}function BS(t,e){const n=$S(t,"");return n.indexOf(",")>0?HS(n.split(","),e):HS([n],e)}function HS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function zS(t,e,n){n?t.removeEventListener(US,e):t.addEventListener(US,e)}function GS(t,e,n,r){const i=MS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function $S(t,e){return t.style[MS+e]||""}class KS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new VS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:jE(this.element,n))})}this.currentSnapshot=t}}class QS extends tw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=rE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class WS{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Jw(t)}matchesElement(t,e){return tE(t,e)}containsElement(t,e){return eE(t,e)}query(t,e,n){return nE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>rE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof KS),u={};AE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=xE(t,e,u));if(0==n)return new QS(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=PS(t,e),d=new KS(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class ZS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:jE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class YS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XS().toString()),this._cssKeyframesDriver=new WS}validateStyleProperty(t){return Jw(t)}matchesElement(t,e){return tE(t,e)}containsElement(t,e){return eE(t,e)}query(t,e,n){return nE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof ZS);AE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=PS(t,e=xE(t,e=e.map(t=>gE(t,!1)),u));return new ZS(t,e,a,l)}}function XS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let JS=(()=>{class t extends $_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?W_(t):t;return nT(this._renderer,null,e,"register",[n]),new tT(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class tT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new eT(this._id,t,e||{},this._renderer)}}class eT{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nT(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const rT="@",iT="@.disabled";let sT=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new oT("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new aT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(NS),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class oT{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==rT&&e==iT?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aT extends oT{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==rT?"."==e.charAt(1)&&e==iT?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==rT){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=rT&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let uT=(()=>{class t extends NS{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o),r.Ub(sE),r.Ub(eS))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const cT=[{provide:sE,useFactory:function(){return"function"==typeof XS()?new YS:new WS}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:$_,useClass:JS},{provide:eS,useFactory:function(){return new nS}},{provide:NS,useClass:uT},{provide:r.F,useFactory:function(t,e,n){return new sT(t,e,n)},deps:[ct,NS,r.A]}];let lT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:cT,imports:[Tt]}),t})(),hT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-navbar"]],decls:5,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["href","list-empleados",1,"navbar-brand"],["src","../../../assets/Leo-logo-blanco.png","alt","","width","90","height","70"]],template:function(t,e){1&t&&(r.Qb(0,"nav",0),r.Qb(1,"div",1),r.Qb(2,"a",2),r.Mb(3,"img",3),r.mc(4," Motmec\xe1nica Exlusivo"),r.Pb(),r.Pb(),r.Pb())},styles:[""]}),t})(),fT=(()=>{class t{constructor(){this.title="empleados"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-navbar"),r.Mb(1,"router-outlet"))},directives:[hT,oi],styles:[""]}),t})();const dT={apiKey:"AIzaSyDd0dXtZtRPAyBpkSlbCWvbzUfakGFMxpY",authDomain:"empleados-43b63.firebaseapp.com",projectId:"empleados-43b63",storageBucket:"empleados-43b63.appspot.com",messagingSenderId:"844251096548",appId:"1:844251096548:web:fe50a334a0beec23c8d3f1"};let pT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[fT]}),t.\u0275inj=r.Ib({providers:[],imports:[[Tt,Mw,Hs.a.initializeApp(dT),z_,Ps,Aw.forRoot(),lT]]}),t})();Object(r.T)(),Et().bootstrapModule(pT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);